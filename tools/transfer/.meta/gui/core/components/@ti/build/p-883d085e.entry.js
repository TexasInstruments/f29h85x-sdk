import{r as t,h as i,H as o,g as s}from"./p-ce1dc307.js";import{b as e}from"./p-98813443.js";const n="ti-tooltip-trigger{display:inline-block;position:relative;cursor:pointer}";let l=class{constructor(i){t(this,i);this._isHovering=false;this._tooltipLastPosition="";this._windowScrollListener={handleEvent:()=>{if(this._isHovering){this._isHovering=false;this._tooltipElement.style.display="none";window.removeEventListener("scroll",this._windowScrollListener)}}};this.useFixedPositionForTooltip=false}onMouseEnter(){this._isHovering=true;window.setTimeout((()=>{if(this._isHovering&&window.getComputedStyle(this._tooltipElement).getPropertyValue("display")==="none"){this._tooltipElement.style.display=this._tooltipElement.getAttribute("position")==="bottom"?"block":"inline-block";this._setTooltipPosition(this._tooltipElement);window.addEventListener("scroll",this._windowScrollListener)}}),300)}onMouseLeave(){this._isHovering=false;window.setTimeout((()=>{if(!this._isHovering){this._tooltipElement.style.display="none";window.removeEventListener("scroll",this._windowScrollListener)}}),500)}_setTooltipPosition(t){if(!t){return}if(t.getAttribute("position")!=="auto"&&!this.useFixedPositionForTooltip){return}t.style.position="fixed";const i=this.hostElement.getBoundingClientRect();const o={x:i.left+i.width*.5,y:i.top+i.height*.5};const s={x:window.innerWidth*.5,y:window.innerHeight*.5};if(this._tooltipLastPosition){t.classList.remove(this._tooltipLastPosition);this._tooltipLastPosition=""}const n=8;const l=t.getBoundingClientRect();const h=i.left-l.width-n;const p=i.right+n;const r=i.top+i.height-l.height+n+20;const c=i.top-n;if(window.innerWidth<=e["phone"]["max"]||h<0&&p+l.width>document.body.clientWidth){let e=i.left+i.width/2-l.width/2;const h=e+l.width;if(e<0){e=8}else if(h>window.innerWidth){e-=h-window.innerWidth+8}t.style.left=e+"px";if(o.y<s.y){this._tooltipLastPosition="ti-tooltip-auto-below-center";t.style.top=i.bottom+n+"px"}else{this._tooltipLastPosition="ti-tooltip-auto-top-center";t.style.top=i.top-l.height-n+"px"}}else{if(o.y<s.y&&o.x>s.x){this._tooltipLastPosition="ti-tooltip-auto-left-down";t.style.top=c+"px";t.style.left=h+"px"}else if(o.y>s.y&&o.x<s.x){this._tooltipLastPosition="ti-tooltip-auto-right-up";t.style.top=r+"px";t.style.left=p+"px"}else if(o.y>s.y&&o.x>s.x){this._tooltipLastPosition="ti-tooltip-auto-left-up";t.style.top=r+"px";t.style.left=h+"px"}else{this._tooltipLastPosition="ti-tooltip-auto-right-down";t.style.top=c+"px";t.style.left=p+"px"}}t.classList.add(this._tooltipLastPosition)}componentWillLoad(){this._tooltipElement=this.hostElement.querySelector(`ti-tooltip`)}render(){return i(o,null,i("slot",null))}get hostElement(){return s(this)}};l.style=n;export{l as ti_tooltip_trigger};
//# sourceMappingURL=p-883d085e.entry.js.map
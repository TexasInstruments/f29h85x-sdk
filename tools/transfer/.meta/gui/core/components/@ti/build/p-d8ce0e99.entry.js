import{r as t,c as i,h as n,H as o,g as e}from"./p-ce1dc307.js";const s=":host{display:inline-block;position:relative;box-sizing:border-box;text-align:left}:host *,:host *::before,:host *::after{box-sizing:inherit}:host .ti-dropdown-panel-trigger{cursor:pointer;display:inline-flex}:host .ti-dropdown-panel-content{position:absolute;top:initial;right:initial;bottom:initial;left:initial;z-index:5;padding:16px 24px;opacity:0;pointer-events:none;width:max-content;min-width:calc(100% + 48px);color:#555555;background-color:#f7f7f7;box-shadow:0 0 1px 1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.16), 0 4px 5px 0 rgba(0, 0, 0, 0.1), 0 1px 10px 0 rgba(0, 0, 0, 0.08);border-bottom:2px solid #555555;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1), height 150ms cubic-bezier(0.4, 0, 1, 1)}:host .ti-dropdown-panel-icon{width:18px;height:18px;margin-left:8px;align-self:center}:host .ti-dropdown-panel-icon svg{transition:transform 0.15s ease-in-out;fill:currentColor}:host(.ti-dropdown-panel-expanded:not(.ti-dropdown-panel-hover)) .ti-dropdown-panel-icon svg{transform:rotate(180deg)}:host([direction=ltr]) .ti-dropdown-panel-content{left:-1.5rem}:host([direction=rtl]) .ti-dropdown-panel-content{right:-1.5rem}";let r=class{constructor(n){t(this,n);this.tiDropdownPanelToggle=i(this,"tiDropdownPanelToggle",7);this._safetySpace=32;this.isExpanded=false;this.direction="ltr";this.hover=false}onClick(t){if(this.isExpanded&&!t.composedPath().includes(this.hostElement)){this.closeDropdownPanel()}}onDropdownPanelToggle(t){if(t.detail&&this.isExpanded&&!t.composedPath().includes(this.hostElement)){this.closeDropdownPanel(false)}}onMouseEnter(){if(this.hover){if(typeof this._hoverTimer==="number"){window.clearTimeout(this._hoverTimer)}this._openDropdownPanel()}}onMouseLeave(){if(this.hover){this._ddPanelElement.style.zIndex="5";this._hoverTimer=window.setTimeout((()=>{this.closeDropdownPanel()}),250)}}async closeDropdownPanel(t=true){this.isExpanded=false;this._ddPanelElement.style.cssText=`\n            z-index: 5;\n            opacity: 0;\n            height: 0;\n            padding: 0;\n            border-bottom: none;\n            overflow: hidden;\n            bottom: ${this._ddPanelElement.style.bottom};\n            left: ${this._ddPanelElement.style.left};\n            right: ${this._ddPanelElement.style.right};\n        `;if(t){this.tiDropdownPanelToggle.emit(false)}}_checkDropdownPanelBoundsBottom(){return this._ddPanelElement.getBoundingClientRect().top+this._ddPanelElement.scrollHeight>document.body.clientHeight-this._safetySpace}_checkDropdownPanelBoundsLeft(){return this._ddPanelElement.getBoundingClientRect().left<-this._safetySpace}_checkDropdownPanelBoundsRight(){return this._ddPanelElement.getBoundingClientRect().right>window.innerWidth-this._safetySpace}_onTriggerClick(t){t.preventDefault();if(!this.isExpanded){this._openDropdownPanel()}else{this.closeDropdownPanel()}}_openDropdownPanel(){this.isExpanded=true;this.tiDropdownPanelToggle.emit(true);this._ddPanelElement.style.cssText=`\n            z-index: 10;\n            opacity: 1;\n            pointer-events: initial;\n        `;this._ddPanelElement.style.bottom=this._checkDropdownPanelBoundsBottom()?`${this.hostElement.clientHeight}px`:"initial";this._ddPanelElement.style.left=this.direction=="ltr"?"-1.5rem":"initial";this._ddPanelElement.style.right=this.direction=="ltr"?"initial":"-1.5rem";if(this.direction=="ltr"&&this._checkDropdownPanelBoundsRight()){this._ddPanelElement.style.left="initial";this._ddPanelElement.style.right="-1.5rem"}if(this.direction=="rtl"&&this._checkDropdownPanelBoundsLeft()){this._ddPanelElement.style.left="-1.5rem";this._ddPanelElement.style.right="initial"}}render(){return n(o,{class:{"ti-dropdown-panel-expanded":this.isExpanded,"ti-dropdown-panel-hover":this.hover}},n("div",{class:"ti-dropdown-panel-trigger",onClick:t=>this.hover?undefined:this._onTriggerClick(t)},n("slot",{name:"trigger"}),n("div",{class:"ti-dropdown-panel-icon"},n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",width:"18",height:"18",class:"ti-dropdown-panel-icon-svg"},n("path",{d:"M152.049 75.093l-55.956 55.956-.093-.093-.093.093-55.956-55.956 14.142-14.142L96 102.858l41.907-41.907 14.142 14.142z"})))),n("div",{class:"ti-dropdown-panel-content",ref:t=>this._ddPanelElement=t},n("slot",{name:"content"})))}get hostElement(){return e(this)}};r.style=s;export{r as ti_dropdown_panel};
//# sourceMappingURL=p-d8ce0e99.entry.js.map
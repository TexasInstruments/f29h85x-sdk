import{r as i,c as t,h as e,H as s,g as a}from"./p-ce1dc307.js";const l='@charset "UTF-8";:host{display:flex;flex-direction:column;box-sizing:border-box;width:100%}:host ::slotted([slot=download-label]){white-space:nowrap !important;font-size:14px;line-height:20px;margin-left:8px}:host *,:host *::after,:host *::before{box-sizing:inherit}:host img{display:block;width:100%}:host .ti-image-gallery-zoom-header{display:flex;flex-direction:row;align-items:center}:host .ti-image-gallery-zoom-header h2{font-size:24px;line-height:32px;font-weight:300;margin:0}:host .ti-image-gallery-zoom-header ti-file-download{margin:0 0 0 auto;padding:8px}:host .ti-image-gallery-zoom-header ti-file-download a{display:flex;text-decoration:none;color:#007c8c}:host .ti-image-gallery-primary-image{position:relative;display:block;cursor:pointer;cursor:zoom-in;border:1px solid #cccccc}:host .ti-image-gallery-primary-image::after{position:absolute;bottom:-1px;right:-1px;width:33px;height:33px;content:" ";border:inherit;background-image:url("https://www.ti.com/assets/icons/ti_icons-actions/zoom-in.svg");background-position:4px 4px;background-size:24px;background-repeat:no-repeat;background-color:#ffffff;pointer-events:none;box-sizing:border-box}:host .ti-image-gallery-thumbnails{display:flex;flex-wrap:wrap;overflow:hidden;position:relative;width:auto;margin-left:-4px;margin-right:-4px}:host .ti-image-gallery-thumbnails-item{display:flex;flex-direction:column;justify-content:center;align-items:stretch;flex-grow:0;flex-shrink:0;flex-basis:auto;position:relative;margin-top:8px;margin-left:4px;margin-right:4px;border:1px solid #cccccc;cursor:pointer;animation:fade-in 150ms cubic-bezier(0.4, 0, 0.2, 1);text-align:center;color:#aaaaaa;font-size:24px;background-color:#ffffff;opacity:1;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}:host .ti-image-gallery-thumbnails-item.ti-image-gallery-thumbnails-item-is-active{border-color:#cc0000}:host .ti-image-gallery-zoom-content{display:flex;flex-direction:column;position:relative;height:100%}:host .ti-image-gallery-zoom-image{position:relative;display:flex;flex-shrink:1;flex-grow:1;justify-content:center;align-items:center;height:calc(100% - 120px - 16px);min-height:100px;margin-bottom:16px}:host .ti-image-gallery-zoom-image img{width:100%;height:100%;background-position:50% 50%;background-size:contain;background-repeat:no-repeat;background-origin:content-box}@supports (object-fit: scale-down){:host .ti-image-gallery-zoom-image img{object-fit:scale-down;width:auto;height:auto;max-height:100%;max-width:100%}}:host .ti-image-gallery-carousel{position:relative;display:flex;justify-content:center;flex:0 0 auto;width:100%;box-sizing:border-box;margin-top:-8px}:host .ti-image-gallery-carousel-thumbnails{display:flex;flex-wrap:nowrap;overflow:hidden;padding:8px 0}:host .ti-image-gallery-carousel-thumbnails .ti-image-gallery-thumbnails-item{box-sizing:border-box;margin-top:0;flex-grow:0;flex-shrink:0;width:114px}:host .ti-image-gallery-carousel-thumbnails .ti-image-gallery-thumbnails-item:first-child{margin-left:0}:host .ti-image-gallery-carousel-thumbnails .ti-image-gallery-thumbnails-item:last-child{margin-right:0}:host .ti-image-gallery-carousel-button{display:flex;align-items:center;flex-shrink:0;margin:0 8px;opacity:0;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}:host .ti-image-gallery-carousel-is-scrollable::before,:host .ti-image-gallery-carousel-is-scrollable::after{display:block;opacity:1;position:absolute;bottom:1;z-index:11505;content:" ";width:32px;height:100%;pointer-events:none;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}:host .ti-image-gallery-carousel-is-scrollable::before{left:52px;background-image:linear-gradient(90deg, rgba(0, 0, 0, 0.15) 0%, rgba(0, 0, 0, 0) 100%)}:host .ti-image-gallery-carousel-is-scrollable::after{right:52px;background-image:linear-gradient(270deg, rgba(0, 0, 0, 0.15) 0%, rgba(0, 0, 0, 0) 100%)}:host .ti-image-gallery-carousel-is-scrollable .ti-image-gallery-carousel-button{opacity:1;cursor:pointer}:host .ti-image-gallery-carousel-is-scrollable.ti-image-gallery-carousel-is-right::after{opacity:0}:host .ti-image-gallery-carousel-is-scrollable.ti-image-gallery-carousel-is-right .ti-image-gallery-carousel-button:last-child{opacity:0.3;cursor:default}:host .ti-image-gallery-carousel-is-scrollable.ti-image-gallery-carousel-is-left::before{opacity:0}:host .ti-image-gallery-carousel-is-scrollable.ti-image-gallery-carousel-is-left .ti-image-gallery-carousel-button:first-child{opacity:0.3;cursor:default}@keyframes fade-in{0%{opacity:0}100%{opacity:1}}';let o=class{constructor(e){i(this,e);this.tiMetricsAction=t(this,"tiMetricsAction",7);this._modalOpen=false;this._supportsObjectFit="objectFit"in document.documentElement.style;this.showingAll=false;this.columns=4;this.showAllThumbnails=false;this.showDownloadLink=true;this._handleCarouselScrollUpdate=this._debounce((()=>{this._updateThumbnailCarouselButtons()}),200);this._checkCarouselOverflow=({clientWidth:i,scrollWidth:t})=>t>i;this._checkCarouselScrollPosition=({clientWidth:i,scrollWidth:t,scrollLeft:e})=>{const s=t-i;const a=e==0?"left":e==s?"right":"between";return a};this.nativeSmoothScroll=(i,t)=>{i.scroll({behavior:"smooth",left:t,top:0})};this.smoothScroll=(i,t,e)=>{const s=i;const a=s.scrollLeft;const l=t-a;const o=+new Date;const r=(i,t,e,s)=>{i/=s/2;if(i<1)return e/2*i*i+t;i--;return-e/2*(i*(i-2)-1)+t};const n=()=>{const i=+new Date;const c=i-o;s.scrollLeft=parseInt(r(c,a,l,e));if(c<e){requestAnimationFrame(n)}else{s.scrollLeft=t}};n()}}handleColumnsChange(i){this.columns=i;this._visibleImagesCount=Object.entries(this._imageList).length>this.columns?Math.max(0,this.columns-1):this.columns;if(this.showAllThumbnails){this._showMoreImages()}else{this._currentImageList=JSON.parse(this.images).slice(0,this._visibleImagesCount)}}componentDidLoad(){this._addIntersectionObserver()}disconnectedCallback(){this._removeIntersectionObserver()}handleTiDialogOpened(){window.addEventListener("resize",this._handleCarouselScrollUpdate,{passive:true});this._carouselScrollElement.addEventListener("scroll",this._handleCarouselScrollUpdate,false);this._modalOpen=true}handleTiDialogClosed(){window.removeEventListener("resize",this._handleCarouselScrollUpdate);this._carouselScrollElement.removeEventListener("scroll",this._handleCarouselScrollUpdate,false);this._modalOpen=false}_addIntersectionObserver(){if("IntersectionObserver"in window){this._io=new IntersectionObserver((i=>{if(i[0].isIntersecting){this._init();this._removeIntersectionObserver()}}));if(this._io["USE_MUTATION_OBSERVER"]!=null){this._io["USE_MUTATION_OBSERVER"]=false}this._io.observe(this.hostElement)}else{setTimeout((()=>{this._init()}),100)}}_debounce(i,t,e){let s;return function(){const a=this;const l=arguments;const o=function(){s=null;if(!e)i.apply(a,l)};const r=e&&!s;clearTimeout(s);s=setTimeout(o,t);if(r)i.apply(a,l)}}_init(){this._imageList=JSON.parse(this.images);this._visibleImagesCount=Object.entries(this._imageList).length>this.columns?Math.max(0,this.columns-1):this.columns;this._currentImageList=JSON.parse(this.images).slice(0,this._visibleImagesCount);Object.entries(this._imageList).length&&Object.values(this._imageList).map((i=>i["alt"]=this._htmlDecode(i["alt"])));const i=this._imageList[0];this.currentImageSrc=i["src"];this.currentImageAltSrc=i["src-lg"];this.currentImageAlt=i["alt"];if(!this._supportsObjectFit){this._setCurrentImageWidth()}if(this.showAllThumbnails){this._showMoreImages()}}_removeIntersectionObserver(){if(this._io){this._io.disconnect();this._io=null}}_trackImageClickMetrics(){const i=this.currentImageAltSrc!==undefined&&this.currentImageAltSrc!==null?this.currentImageAltSrc:this.currentImageSrc;const t=i.split("/").pop().split("?")[0];this.tiMetricsAction.emit({elementName:this.hostElement.tagName,eventName:"image click",data:{value:"expand",column:t}})}_trackThumbnailClickMetrics(i){this.tiMetricsAction.emit({elementName:this.hostElement.tagName,eventName:"image click",data:{value:"thumbnail",column:i}})}_trackMetricsThumbnailScroll(i){this.tiMetricsAction.emit({elementName:this.hostElement.tagName,eventName:"click",data:{value:i+" scroll"}})}_selectImage(i){this.currentImageSrc=i.currentTarget.getAttribute("src");this.currentImageAltSrc=i.currentTarget.getAttribute("src-lg");this.currentImageAlt=i.currentTarget.getAttribute("alt");const t=this.currentImageAltSrc!==undefined&&this.currentImageAltSrc!==null?this.currentImageAltSrc:this.currentImageSrc;const e=t.split("/").pop().split("?")[0];if(!this._supportsObjectFit){this._setCurrentImageWidth()}this._trackThumbnailClickMetrics(e);if(this._modalOpen){i.target.parentElement.scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}}_setCurrentImageWidth(){const i=document.createElement("img");i.src=this.currentImageAltSrc!==undefined&&this.currentImageAltSrc!==null?this.currentImageAltSrc:this.currentImageSrc;i.onload=()=>{this._currentImageWidth=i.width}}_openGalleryZoom(){this._trackImageClickMetrics();this._modalElement.open();setTimeout((()=>{this._carouselElement.querySelector(".ti-image-gallery-thumbnails-item-is-active").scrollIntoView({behavior:"smooth",block:"end",inline:"end"})}),10);setTimeout((()=>{this._updateThumbnailCarouselButtons()}),200)}_updateThumbnailCarouselButtons(){const i=this._carouselScrollElement;const t=this._checkCarouselScrollPosition(i);const e="ti-image-gallery-carousel sc-ti-image-gallery";const s=`${e} ti-image-gallery-carousel-is-scrollable ti-image-gallery-carousel-is-${t}`;this._carouselElement.className=this._checkCarouselOverflow(i)?s:e}_carouselScroll(i){const t=this._carouselScrollElement;const e=t.children[0].clientWidth;const s=t.scrollLeft;const a=this._carouselElement.firstChild==i.currentTarget?"left":"right";const l=a=="left"?s-e*2.5:s+e*2.5;this._trackMetricsThumbnailScroll(a);const o="scrollBehavior"in document.documentElement.style;if(o){this.nativeSmoothScroll(t,l)}else{this.smoothScroll(t,l,500)}if(this._checkCarouselScrollPosition(t)!=a){this._carouselElement.className="ti-image-gallery-carousel sc-ti-image-gallery ti-image-gallery-carousel-is-scrollable ti-image-gallery-carousel-is-between"}}_showMoreImages(){this.showingAll=true;this._currentImageList=this._imageList}_htmlDecode(i){if(i){const t=(new DOMParser).parseFromString(i,"text/html");return t.documentElement.textContent}return null}render(){const i=this.currentImageAltSrc!==undefined&&this.currentImageAltSrc!==null?this.currentImageAltSrc:this.currentImageSrc;if(!i){return null}const t=i.split("/").pop().split("?")[0];const a=i=>{const t=i?this._imageList:this._currentImageList;const s=`calc(${100/this.columns}% - 0.5rem)`;return[Object.entries(this._imageList).length&&Object.values(t).map(((t,a)=>e("div",{style:!i&&{width:s},class:{"ti-image-gallery-thumbnails-item":true,"ti-image-gallery-thumbnails-item-is-active":t["src"]==this.currentImageSrc}},e("ti-image",{src:t["src"],"src-lg":t["src-lg"],"data-di-id":i==true?"modal_thumbnail_"+a+"_image_gallery":"pd_thumbnail_"+a+"_image_gallery","data-ti-di-track":"",ratio:"rectangle",alt:t["alt"],onClick:i=>this._selectImage(i)})))),Object.entries(this._imageList).length>this.columns&&!this.showingAll&&!i&&e("div",{style:!i&&{width:s},class:"ti-image-gallery-thumbnails-item",onClick:()=>this._showMoreImages()},"+",Object.entries(this._imageList).length-Object.entries(t).length)]};return e(s,null,e("div",{class:"ti-image-gallery-primary-image"},e("ti-image",{src:this.currentImageSrc,ratio:"rectangle",alt:this.currentImageAlt,onClick:()=>this._openGalleryZoom(),"data-di-id":"pd_main_image_image_gallery","data-ti-di-track":""})),this._visibleImagesCount!=0&&e("div",{class:"ti-image-gallery-thumbnails"},a()),e("ti-dialog",{modal:true,fullscreen:true,ref:i=>this._modalElement=i},e("div",{slot:"title",class:"ti-image-gallery-zoom-header"},e("h2",null,this.currentImageAlt),this.showDownloadLink&&e("ti-file-download",{fileSrc:i,fileName:t,"data-di-id":"modal_download_image_gallery","data-ti-di-track":""},e("a",{href:i,target:"_blank"},e("ti-svg-icon",{"icon-set":"actions",size:"s",appearance:"secondary"},"download"),e("slot",{name:"download-label"})))),e("div",{class:"ti-image-gallery-zoom-content"},e("div",{class:"ti-image-gallery-zoom-image"},this._supportsObjectFit==true?e("img",{src:i,alt:this.currentImageAlt}):e("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",alt:this.currentImageAlt,style:{backgroundImage:`url('${i}')`,maxWidth:`${this._currentImageWidth}px`}})),e("div",{class:"ti-image-gallery-carousel",ref:i=>this._carouselElement=i},e("div",{class:"ti-image-gallery-carousel-button",onClick:i=>this._carouselScroll(i)},e("ti-svg-icon",{size:"l"},"chevron-left")),e("div",{class:"ti-image-gallery-carousel-thumbnails",ref:i=>this._carouselScrollElement=i},a(true)),e("div",{class:"ti-image-gallery-carousel-button",onClick:i=>this._carouselScroll(i)},e("ti-svg-icon",{size:"l"},"chevron-right"))))))}get hostElement(){return a(this)}static get watchers(){return{columns:["handleColumnsChange"]}}};o.style=l;export{o as ti_image_gallery};
//# sourceMappingURL=p-8aab2c0c.entry.js.map
import{r as t,c as i,h as a,g as e}from"./p-ce1dc307.js";const o=':host .ti-tab-group-container{width:100%;height:100%}:host .ti-tab-group-container .ti-tab-group-header{display:flex;flex-direction:row;font-size:16px;line-height:20.3px;border-bottom:1px solid #cccccc;margin-bottom:24px;box-sizing:border-box}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list{display:flex;margin:0;padding:0}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item{display:flex;flex-direction:row;flex:0 1 auto;align-items:center;margin:0 12px;padding:0;background:0;line-height:40px;box-sizing:border-box;cursor:pointer}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item:first-child{margin-left:0}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title{color:#333333;height:100%;position:relative}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h1,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h2,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h3,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h4,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h5,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title h6,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title a{margin:0;font-weight:400;font-size:16px;line-height:40px}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title a{color:#333333;display:block;text-decoration:none}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title::after{display:block;width:100%;height:2px;content:"";position:absolute;bottom:0;background-color:transparent}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item .ti-tab-group-title:hover::after{background-color:#333333}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item.ti-tab-group-is-active .ti-tab-group-title,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item.ti-tab-group-is-active .ti-tab-group-title a{color:#cc0000}:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item.ti-tab-group-is-active .ti-tab-group-title::after,:host .ti-tab-group-container .ti-tab-group-header .ti-tab-group-list .ti-tab-group-list-item.ti-tab-group-is-active .ti-tab-group-title a::after{background-color:#cc0000}';let r=class{constructor(a){t(this,a);this.tiTabSelectionChange=i(this,"tiTabSelectionChange",7);this.tiMetricsAction=i(this,"tiMetricsAction",7);this._allTabTitle=null;this._hashDelimiter="##";this._tabs=[];this._tabTitleList=[];this._tabTitleListContent=[];this.allTab=false;this.hashId="";this.locale="en-us";this.selectedIndex=-1}handleLocaleChange(t){if(["en-us","zh-cn","ja-jp"].indexOf(t)===-1){t="en-us"}this.locale=t}componentWillLoad(){if(["en-us","zh-cn","ja-jp"].indexOf(this.locale)===-1){this.locale="en-us"}this._tabTitleListContent=[];this._tabs=Array.from(this.observedElement.getElementsByTagName("ti-tab"),(t=>{const i=t.querySelector('[slot="title"]');if(!document.head.attachShadow){this._addScopeClass(i)}this._tabTitleListContent.push({title:i.outerHTML.replace(`slot="title"`,""),id:t.id});t.hideTab(true);return t}));this._checkHash()}componentDidLoad(){this._checkSelectedTab()}_addScopeClass(t){t.classList.add("sc-ti-tab-group");const i=t.children;for(let t=0;t<i.length;t++){if(i.item(t)instanceof HTMLElement){this._addScopeClass(i.item(t))}}}_checkHash(){const t=window.location.hash;const i=t.indexOf(this._hashDelimiter);if(i===-1){return}const a=t.substr(i+this._hashDelimiter.length);if(a===undefined||a===""){return}if(a==="all"&&this.allTab){this.selectedIndex=-1;return}this._tabs.forEach(((t,i)=>{if(a===t.getAttribute("tab-hash-id")){this.selectedIndex=i;this._checkSelectedTab();return}}))}_checkSelectedTab(){if(this.allTab&&this.selectedIndex===-1){this._showAllTabs()}else{this.selectedIndex=this.selectedIndex===-1?0:this.selectedIndex;this._tabTitleList[this.selectedIndex].classList.add("ti-tab-group-is-active");this._tabs[this.selectedIndex].hideTab(false)}}_fireAllTabMetrics(){this.tiTabSelectionChange.emit(r.LANGUAGE_STRINGS[this.locale]._allTitle);if(!this.hashId){this.tiMetricsAction.emit({elementName:this.observedElement.tagName,eventName:"tab click",data:{context:r.LANGUAGE_STRINGS["en-us"].allTitle}})}}_renderAllTab(){if(this.allTab){return a("li",{class:"ti-tab-group-list-item",ref:t=>this._allTabTitle=t},a("div",{class:"ti-tab-group-title",onClick:()=>{this._showAllTabs(),this._fireAllTabMetrics()}},this.hashId?a("a",{href:"#"+this.hashId+"##all"}," ",r.LANGUAGE_STRINGS[this.locale].allTitle," "):a("span",null," ",r.LANGUAGE_STRINGS[this.locale].allTitle," ")))}return null}_renderNavItem(t){const i=a("li",{class:"ti-tab-group-list-item",id:`${t.id}-tab-item`,"data-di-id":`${t.id}-tab-item`,"data-ti-di-track":"",ref:t=>this._tabTitleList.push(t)},a("div",{class:"ti-tab-group-title",onClick:i=>this._showTabContent(i,t.id),innerHTML:t["title"]}));return i}_showAllTabs(){if(this.allTab){this._allTabTitle.classList.add("ti-tab-group-is-active");this._tabTitleList.forEach((t=>{t.classList.remove("ti-tab-group-is-active")}));this._tabs.forEach(((t,i)=>{t.hideTab(false);t.showHeader(true,this._tabTitleListContent[i].title);const a=t.getAttribute("data-lid");if(a!==null){t.setAttribute("data-lid",a+"_all")}}))}}_showTabContent(t,i){t.preventDefault();const a=this.hashId!=="";if(t.target.className.indexOf("ti-tab-group-title")>-1&&a){return}if(a){let i=-1;const a=t.target.getAttribute("href");if(a){i=a.indexOf("##")}if(i>-1){history.replaceState(null,null,"#"+this.hashId+a.substr(i))}}if(this.allTab){this._allTabTitle.classList.remove("ti-tab-group-is-active")}this._tabTitleList.forEach((t=>{if(t.id===`${i}-tab-item`){t.classList.add("ti-tab-group-is-active")}else{t.classList.remove("ti-tab-group-is-active")}}));this._tabs.forEach((t=>{t.showHeader(false);const e=t.getAttribute("data-lid");if(e!==null&&e.endsWith("_all")){t.setAttribute("data-lid",e.replace("_all",""))}if(t.id===i){t.hideTab(false);this.tiTabSelectionChange.emit(t.tabName);if(!a){this.tiMetricsAction.emit({elementName:this.observedElement.tagName,eventName:"tab click",data:{context:t.tabName}})}}else{t.hideTab(true)}}))}render(){this._tabTitleList=[];return a("div",{class:"ti-tab-group-container"},a("div",{class:"ti-tab-group-header"},a("ul",{class:"ti-tab-group-list"},this._renderAllTab(),this._tabTitleListContent.map((t=>this._renderNavItem(t)))),a("slot",{name:"option"})),a("div",null,a("slot",null)))}get observedElement(){return e(this)}static get watchers(){return{locale:["handleLocaleChange"]}}};r.LANGUAGE_STRINGS={"en-us":{allTitle:"All"},"zh-cn":{allTitle:"全部"},"ja-jp":{allTitle:"すべて"}};r.style=o;export{r as ti_tab_group};
//# sourceMappingURL=p-e1c71fa7.entry.js.map
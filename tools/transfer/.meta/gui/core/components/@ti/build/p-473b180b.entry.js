import{r as e,c as t,h as i,a as o,g as n}from"./p-5bb37414.js";import{W as c}from"./p-efd2e5c1.js";import{ServicesRegistry as r}from"../gc-core-services/lib/ServicesRegistry";import{deviceDetectorServiceType as s,deviceAttachedEventType as a,deviceDetachedEventType as l,progressEventType as d}from"../gc-service-device-detector/lib/DeviceDetectorService";import{GcConsole as h}from"../gc-core-assets/lib/GcConsole";import{GcWidget as g}from"../gc-widget-base/lib/GcWidget";import{GcFiles as v}from"../gc-core-assets/lib/GcFiles";import{GcUtils as p}from"../gc-core-assets/lib/GcUtils";import"../gc-core-assets/lib/GcLocalStorage";import"../gc-widget-message-dialog/lib/GcMessageDialog";const m=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host .action-link{font-weight:500;font-size:16px}:host #elementWrapper{flex-direction:column;align-items:start}:host #select_container{width:100%;display:flex;flex-direction:column}:host #select_container>*{margin:0}:host #select_container>gc-widget-select{width:100%;height:var(--gc-selector-height, 32px)}:host #select_container>gc-widget-progressbar{--gc-bar-height:2px}:host #select_container>gc-widget-label{margin:5px;--gc-color:var(--install-cloud-agent-link-color, #999999);--gc-font-weight:var(--install-cloud-agent-link-font-weight, 400)}:host #select_container slot[name=selected-device]::slotted(*){margin:10px 0}:host #selected_device_container{display:flex;flex-wrap:wrap;width:100%;margin-top:20px;justify-content:space-between}:host #selected_device_container #image_container{display:flex;flex-direction:column;margin-right:10px}:host #selected_device_container #image_container img{width:150px;min-width:150px;max-width:150px;margin:5px;overflow:hidden}:host #selected_device_container #image_container img.no-device{opacity:0.5}:host #selected_device_container #image_container>#info_container{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;font-size:14px;max-width:480px}:host #selected_device_container #image_container>#info_container a{font-size:16px}:host #selected_device_container #image_container>#info_container a[is-disabled]{pointer-events:none}:host #selected_device_container #image_container>#info_container .caption{font-weight:500}:host #selected_device_container #image_container>#info_container .normal{font-weight:400}';const u=new h("gc-widget-device-detector");let f=class{constructor(i){e(this,i);this.missingTICAExtension=t(this,"missing-tica-extension",7);this.deviceDetected=t(this,"device-detected",7);this.selectedDeviceChanged=t(this,"selected-device-changed",7);this.deviceIdClick=t(this,"device-id-click",7);this.cssPropertyChanged=t(this,"css-property-changed",7);this.defaultProductInfoListURL=`${location.protocol}//${location.hostname}/uniflash/target_setup/data/lpList.json`;this.defaultDeviceInfoListURL=`${location.protocol}//${location.hostname}/tirex/api/filterOptions`;this.defaultAdditionalDeviceInfoListURL=`${location.protocol}//${location.hostname}/components/portal/gettingstarted/devices_and_boards.json`;this.pInfoList=[];this.detectedDevices=[];this.deviceList=[];this.onSelectedDeviceChanged=async({detail:e})=>{var t;const i=e.value;const o=this.deviceList[i];let n;if(o){n=(t=this.pInfoList.find((e=>e.name===o.publicId)))===null||t===void 0?void 0:t.category;const e=this.getDetectedDeviceById(o.publicId);this.selectedDevice={name:o.name,id:o.publicId,type:o.type,productFamily:n,imageURL:o.publicId===(e===null||e===void 0?void 0:e.id)?await this.getDeviceImage(e.id):await this.getDeviceImage(o.publicId)}}else{this.selectedDevice=undefined}this.selectedDeviceInfo=undefined;this.selectedDeviceChanged.emit(this.selectedDevice?{name:this.selectedDevice.name,id:this.selectedDevice.id,type:this.selectedDevice.type,productFamily:n}:undefined)};this.installExtension=async()=>{let e=await g.querySelector("gc-widget-cloudagent-dialog");if(!e){e=document.createElement("gc-widget-cloudagent-dialog");document.body.appendChild(e);e=await g.querySelector("gc-widget-cloudagent-dialog")}const t=e;await t.open(this.cloudAgentError)};this._refresh=0;this.hidden=false}async _setSelectedDeviceInfo(e,t){this.selectedDeviceInfo={id:e,name:t}}render(){var e,t,n,r,s,a,l,d,h,g;const v=[];v.push(i("gc-widget-select",{part:"device-selector",ref:e=>this.selectEl=e,type:"filter",placeholder:this.selectPlaceholder,disabled:!this.deviceList||this.deviceList.length<=0,labels:(e=this.deviceList)===null||e===void 0?void 0:e.map((e=>{if(this.getDetectedDeviceById(e.publicId)){return`${e.name} (my ${e.type==="devtool"?"board":"device"})`}return e.name})).join(),values:(t=this.deviceList)===null||t===void 0?void 0:t.map((e=>e.publicId)).join(),selectedIndex:(n=this.deviceList)===null||n===void 0?void 0:n.findIndex((e=>{var t;return e.publicId===((t=this.selectedDevice)===null||t===void 0?void 0:t.id)})),"on-selected-index-changed":this.onSelectedDeviceChanged}));if(this.hasProgress&&this.progress){v.push(i("gc-widget-progressbar",{value:this.progress.value,message:this.hasProgressMessage?this.progress.message:undefined,indeterminate:this.progress.indeterminate}))}v.push(i("slot",{name:"selected-device"}));if(this.cloudAgentError){if(this.hasTICAInstallerLink){v.push(i("gc-widget-label",{class:"text-link",label:"TI Cloud Agent browser extension is required to automatically detect your connected device, click here to install.",onClick:this.installExtension}))}else{v.push(i("slot",{name:"ti-cloud-agent-extension"}))}}const p=(s=this.getDetectedDeviceById((r=this.selectedDevice)===null||r===void 0?void 0:r.id))===null||s===void 0?void 0:s.debugProbeSerial;return c.doRender([i("div",{id:"select_container"},v),this.selectedDevice?i("div",{id:"selected_device_container"},this.hasDeviceImage?i("div",{id:"image_container"},i("div",{id:"info_container"},i("a",{"is-disabled":!this.deviceIdClickable,class:"text-link action-link",onClick:()=>this.deviceIdClick.emit()},((a=this.selectedDeviceInfo)===null||a===void 0?void 0:a.id)||((l=this.selectedDevice)===null||l===void 0?void 0:l.id)||"---"),i("div",{style:{margin:"10px 0"},innerHTML:((d=this.selectedDeviceInfo)===null||d===void 0?void 0:d.name)||((h=this.selectedDevice)===null||h===void 0?void 0:h.name)||"---"}),i("div",{style:{visibility:p?"visible":"hidden"},class:"caption"},"Serial: ",i("span",{class:"normal"},p||"---"))),i("div",{style:{display:"flex","align-items":"center","column-gap":"10px"}},i("img",{class:!this.selectedDevice?"no-device":"",src:((g=this.selectedDevice)===null||g===void 0?void 0:g.imageURL)||o("../gc-widget-device-detector/assets/ti_chip.png")}),i("slot",{name:"selected-device-image"}))):undefined,i("slot",{name:"selected-device-additional-info"})):undefined],{tooltip:this.tooltip,caption:this.caption,infoText:this.infoText})}componentDidRender(){this.selectEl.setFilterFunction((e=>{var t;if(!this.selectEl.filterText)return e;if(this.selectEl.selectedIndex!==-1&&((t=e[this.selectEl.selectedIndex])===null||t===void 0?void 0:t.label)===this.selectEl.filterText)return e;return e.filter((e=>e.label.match(new RegExp(`.*${this.selectEl.filterText}.*`,"ig"))))}))}connectedCallback(){this.initializeDeviceInfo()}async getSelectedDevice(){return this.selectedDevice}async openTICloudAgentInstallDialog(){await this.installExtension()}async initializeDeviceInfo(){const{deviceList:e,pInfoList:t}=await this.getDeviceAndPList();this.deviceList=e;this.pInfoList=t;try{if(!this.defaultSelectedDeviceId&&window.location.search){window.location.search.substring(1).split("&").map((e=>{const[t,i]=e.split("=");if(["gpn","opn","id"].includes(t)){this.defaultSelectedDeviceId=i}}))}if(this.defaultSelectedDeviceId){const e=this.deviceList.find((e=>e.publicId===this.defaultSelectedDeviceId));if(e){this.selectedDevice={name:e.name,id:e.publicId,type:e.type,imageURL:await this.getDeviceImage(e.publicId)}}}else{try{if(!this.deviceDetectorService){this.deviceDetectorService=r.getService(s);this.deviceDetectorService.addEventListener(a,(({attachedDevices:e,allDevices:t})=>{this.deviceDetected.emit(e);this.detectedDevices=t}));this.deviceDetectorService.addEventListener(l,(({allDevices:e})=>{this.detectedDevices=e}));this.deviceDetectorService.addEventListener(d,(e=>{this.progress={indeterminate:false,message:e.subActivity||e.name,value:e.percent}}))}this.progress={indeterminate:true};this.selectPlaceholder="Detecting connected probe...";this.detectedDevices=await this.deviceDetectorService.detect();if(this.detectedDevices.length>0){this.deviceDetected.emit(this.detectedDevices)}}catch(e){this.cloudAgentError=e;this.missingTICAExtension.emit()}finally{this.progress=undefined}}}finally{this.selectPlaceholder="Select a board or device"}}getDetectedDeviceById(e){var t;return e?(t=this.detectedDevices)===null||t===void 0?void 0:t.find((t=>t.id===e)):undefined}async getDeviceImage(e){let t=undefined;let i=undefined;if(this.deviceImageUrl){try{i=`${this.deviceImageUrl}/${e}.png`;t=await fetch(i,{method:"HEAD"})}catch(e){}}if(t===undefined||!t.ok){try{i=`/components/images/lp/${e}.png`;t=await fetch(i,{method:"HEAD"})}catch(e){}}return t&&t.ok?i:undefined}onDeviceInfoListChanged(){this.initializeDeviceInfo()}onDetectedDevicesChanged(e,t){if(this.detectedDevices.length>0){let e=this.detectedDevices[0];for(let t=0;t<this.detectedDevices.length;++t){if(this.detectedDevices[t].id){e=this.detectedDevices[t];break}}this.selectDetectedDevice(e)}this.refresh()}async selectDetectedDevice(e,t=false){const i=e?this.deviceList.findIndex((t=>t.publicId===e.id)):-1;if(i>=0){this.selectedDevice={name:this.deviceList[i].name,id:this.deviceList[i].publicId,type:this.deviceList[i].type,imageURL:await this.getDeviceImage(e.id)}}else if(t){this.selectedDevice=undefined}}async getDeviceAndPList(){const e=(e,t)=>{e.forEach((e=>e.type="device"));t.forEach((e=>e.type="devtool"));return[...t,...e]};const[t,i,n]=await Promise.all([fetch(this.defaultProductInfoListURL).then((e=>e.json())).then((e=>e.launchpads)).catch((()=>{u.error(`Unable to fetch product info list from ${this.defaultProductInfoListURL}.`);return[]})),fetch(this.deviceInfoListUrl||this.defaultDeviceInfoListURL).then((e=>e.json())).then((e=>e.payload)).then((({devices:t,devtools:i})=>e(t,i))).catch((()=>{u.error(`Unable to fetch device info from ${this.deviceInfoListUrl||this.defaultDeviceInfoListURL}, default to use a cached copy.`);return fetch(o("../gc-widget-device-detector/assets/device_list.json")).then((e=>e.json())).then((e=>e.payload)).then((({devices:t,devtools:i})=>e(t,i))).catch((e=>{u.log(e);return[]}))})),fetch(this.additionalDeviceInfoListUrl||this.defaultAdditionalDeviceInfoListURL).then((e=>e.json())).then((e=>e.payload)).then((({devices:t,devtools:i})=>e(t,i))).catch((()=>{u.log(`Unable to fetch supplement device info from ${this.additionalDeviceInfoListUrl||this.defaultAdditionalDeviceInfoListURL}.`);return[]}))]);return{deviceList:[...i,...n],pInfoList:t}}async setCSSProperty(e,t){t=t.trim();if(await this.getCSSProperty(e)!==t){this.el.style.setProperty(e,t);this.cssPropertyChanged.emit({name:e,value:t})}}async getCSSProperty(e){return getComputedStyle(this.el).getPropertyValue(e).trim()}async refresh(){this._refresh++}get el(){return n(this)}static get watchers(){return{deviceInfoListUrl:["onDeviceInfoListChanged"],additionalDeviceInfoListUrl:["onDeviceInfoListChanged"],detectedDevices:["onDetectedDevicesChanged"]}}};f.style=m;const b=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host .action-link{font-weight:500;font-size:16px}:host{background:var(--gc-background-color, var(--theme-background-color, #ffffff));padding:20px;min-width:500px}:host #device_detector_main_group{width:100%;display:flex;flex-wrap:wrap}:host #device_detector_main_group #device_detector_selection_group{flex:1;display:flex;flex-direction:column}:host #device_detector_main_group #device_detector_selection_group #heading{--gc-font-size:26px;--gc-font-weight:200;--gc-color:var(--gc-font-color, var(--theme-font-color, #555555));margin-bottom:15px;margin-top:0}:host #device_detector_main_group #device_detector_selection_group gc-widget-device-detector{flex:1;min-width:350px;--install-cloud-agent-link-color:var(--gc-font-color, var(--theme-font-color, #555555));--install-cloud-agent-link-font-weight:500}:host #device_detector_main_group #device_detector_action_group{display:flex;flex:inherit;flex-direction:column;flex-wrap:wrap}:host #device_detector_main_group #device_detector_action_group .action-container{display:flex;padding:16px;border-bottom:1px solid var(--gc-border-color, var(--theme-border-color, #e5e5e5))}:host #device_detector_main_group #device_detector_action_group .action-container .icon{cursor:pointer;margin:0 20px 0 0;width:48px;height:48px;-webkit-mask-size:100% 100%;mask-size:100% 100%;background-color:var(--gc-action-icon-color, var(--gc-font-color, var(--theme-font-color, #555555)))}:host #device_detector_main_group #device_detector_action_group .action-container .icon.video{align-self:center;margin:0 0 0 15px;min-height:unset;min-width:unset;--gc-color:var(--gc-video-icon-color, #cccccc)}:host #device_detector_main_group #device_detector_action_group .action-container .icon.video:hover{--gc-color:var(--gc-video-icon-color-hover, var(--theme-primary-color, #cc0000));opacity:var(--gc-video-icon-opacity-hover, 1)}:host #device_detector_main_group #device_detector_action_group .action-container .text-container{flex:1;display:flex;flex-direction:column}:host #device_detector_main_group #device_detector_action_group .action-container .text-container>.desc{margin-top:10px;font-size:14px;line-height:20px}:host #device_detector_main_group #device_detector_action_group .action-container:first-child{padding-top:0}:host #device_detector_main_group #device_detector_action_group .action-container:last-child{border-bottom:0;padding-bottom:0}';const x=new h("gc-widget-device-detector-getting-started");const w=(e,t="_default")=>{var i;let o=e;if(!o.startsWith("http://")&&!o.startsWith("https://")){const t=location.search.substring(1).split("&");const n=(i=t.find((e=>e.startsWith("actionHost="))))===null||i===void 0?void 0:i.split("=")[1];if(n){o=`https://${n}${e}`}}window.open(o,t)};let _=class{constructor(i){e(this,i);this.gettingStartedMissingTICAExtension=t(this,"getting-started-missing-tica-extension",7);this.gettingStartedDeviceDetected=t(this,"getting-started-device-detected",7);this.gettingStartedSelectedDeviceChanged=t(this,"getting-started-selected-device-changed",7);this.gettingStartedPlayVideo=t(this,"getting-started-play-video",7);this.gettingStartedActionClick=t(this,"getting-started-action-click",7);this.gettingStartedDeviceIdClick=t(this,"getting-started-device-id-click",7);this.cssPropertyChanged=t(this,"css-property-changed",7);this._refresh=0;this.hidden=false}render(){var e,t,o,n,r,s;const a=((t=(e=this.selectedDevice)===null||e===void 0?void 0:e.gettingStartedDetail)===null||t===void 0?void 0:t.actions)||[];const l=!((n=(o=this.selectedDevice)===null||o===void 0?void 0:o.gettingStartedDetail)===null||n===void 0?void 0:n.learnUrl);return c.doRender(i("div",{id:"device_detector_main_group"},i("div",{id:"device_detector_selection_group"},i("gc-widget-label",{part:"get-started-label",id:"heading",label:"Get started"}),i("gc-widget-device-detector",{part:"device-detector",ref:e=>this.deviceDetectorEl=e,deviceIdClickable:!l,hasDeviceImage:!!this.selectedDevice,hasTICAInstallerLink:this.hasDefaultTICAInstallerLink,deviceImageUrl:this.deviceImageUrl,additionalDeviceInfoListUrl:this.additionalDeviceInfoListUrl,deviceInfoListUrl:this.deviceInfoListUrl,"onSelected-device-changed":({detail:e})=>this.onSelectedDeviceChanged(e),"onDevice-id-click":()=>{var e,t,i;return!l?this.onDeviceInfoClick((e=this.selectedDevice)===null||e===void 0?void 0:e.id,(i=(t=this.selectedDevice)===null||t===void 0?void 0:t.gettingStartedDetail)===null||i===void 0?void 0:i.learnUrl):undefined},"onMissing-tica-extension":()=>this.gettingStartedMissingTICAExtension.emit(),"onDevice-detected":({detail:e})=>this.gettingStartedDeviceDetected.emit(e)},a.length>0?i("div",{id:"device_detector_action_group",slot:"selected-device-additional-info"},a.map((e=>this.renderAction(e.icon,this.replaceMacro(e.title),this.replaceMacro(e.desc),!!e.video,(()=>{var t;this.gettingStartedActionClick.emit({deviceId:(t=this.selectedDevice)===null||t===void 0?void 0:t.id,title:e.title,url:e.url});if(!this.noDefaultWindowOpener){w(e.url)}}),(()=>{var t;this.gettingStartedPlayVideo.emit({deviceId:(t=this.selectedDevice)===null||t===void 0?void 0:t.id,title:e.tile,url:e.video})})))),this.hasDownloadCCSAction&&((s=(r=this.selectedDevice)===null||r===void 0?void 0:r.gettingStartedDetail)===null||s===void 0?void 0:s.downloadCCS)?this.renderAction("ccs_desktop.svg","Download the Code Composer Studio&trade; IDE","and start development on your desktop",false,(()=>{var e;return this.gettingStartedActionClick.emit({deviceId:(e=this.selectedDevice)===null||e===void 0?void 0:e.id,title:"downloadCCS",url:undefined})})):undefined):undefined,i("slot",{name:"buy-now",slot:"selected-device-image"}),i("slot",{name:"selected-device",slot:"selected-device"}),i("slot",{name:"ti-cloud-agent-extension",slot:"ti-cloud-agent-extension"})))))}renderAction(e,t,o,n,c,r){const s=e.indexOf("/")===-1;let a=e.indexOf("/")!==0&&e.indexOf("http")!==0?`${this.actionIconPath}/${e}`:e;if(s&&!a.endsWith("svg"))a+=".svg";return i("div",{class:"action-container",part:"action-container"},i("div",{class:"icon",style:{"-webkit-mask-image":`url("${a}")`,"mask-image":`url("${a}")`},onClick:c}),i("div",{class:"text-container"},i("div",{class:"heading action-link text-link",innerHTML:t,onClick:c}),i("div",{class:"desc",innerHTML:o})),n?i("gc-widget-icon",{class:"video",size:"l",appearance:"custom",icon:"av:video_library",onClick:e=>{e.stopPropagation();e.preventDefault();r===null||r===void 0?void 0:r()}}):undefined)}componentWillLoad(){this._gettingStartedResourceUrl=this.gettingStartedResourceUrl||"/components/portal/gettingstarted";this.actionIconPath=this.actionIconPath||`${this._gettingStartedResourceUrl}/icons`}componentDidLoad(){this.el.dispatchEvent(new CustomEvent("ready"))}async getSelectedDevice(){return this.selectedDevice}openTICloudAgentInstallDialog(){var e;return(e=this.deviceDetectorEl)===null||e===void 0?void 0:e.openTICloudAgentInstallDialog()}replaceMacro(e){if(e){if(p.isCloud){return e.replace(/<Cloud>/g,"Cloud").replace(/<cloud>/g,"cloud")}else{return e.replace(/<Cloud>/g,"").replace(/<cloud>/g,"")}}}async onSelectedDeviceChanged(e){var t;if(e){let i;try{i=await v.readJsonFile(`${this._gettingStartedResourceUrl}/json/${e.id.toLowerCase()}.json`)}catch(e){x.log(e)}if(i){(t=this.deviceDetectorEl)===null||t===void 0?void 0:t._setSelectedDeviceInfo(i.id,i.name)}this.selectedDevice={...e,gettingStartedDetail:i}}else{this.selectedDevice=undefined}this.gettingStartedSelectedDeviceChanged.emit(this.selectedDevice)}async onDeviceInfoClick(e,t){this.gettingStartedDeviceIdClick.emit({deviceId:e,url:t});if(!this.noDefaultWindowOpener){w(t)}}async setCSSProperty(e,t){t=t.trim();if(await this.getCSSProperty(e)!==t){this.el.style.setProperty(e,t);this.cssPropertyChanged.emit({name:e,value:t})}}async getCSSProperty(e){return getComputedStyle(this.el).getPropertyValue(e).trim()}async refresh(){this._refresh++}get el(){return n(this)}};_.style=b;export{f as gc_widget_device_detector,_ as gc_widget_device_detector_getting_started};
//# sourceMappingURL=p-473b180b.entry.js.map
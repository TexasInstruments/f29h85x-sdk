import{r as s,c as t,h as i,H as o,g as h}from"./p-ce1dc307.js";const n=":host{display:inline-block;box-sizing:border-box;white-space:nowrap}:host input{box-sizing:border-box;margin-bottom:0;width:100%;height:32px;padding:0 8px;border:1px solid #cccccc;color:#555555;font-family:inherit;font-size:14px}:host input[disabled]{background-color:#e8e8e8;cursor:not-allowed}:host input[readonly]{cursor:not-allowed}:host input::-ms-reveal,:host input::-ms-clear{display:none !important}:host .ti-password-input input{padding-right:32px}:host .ti-password-caps-indicator{color:#cc0000;display:none}:host .ti-password-icons.ti-password-slotted{position:relative;right:3px}:host .ti-password-show-icon,:host .ti-password-hide-icon{position:relative;right:24px}:host .ti-password-icons.ti-password-showing-pw .ti-password-show-icon,:host .ti-password-icons:not(.ti-password-showing-pw) .ti-password-hide-icon{display:none}:host .ti-password-icons.ti-password-showing-pw .ti-password-hide-icon,:host .ti-password-icons:not(.ti-password-showing-pw) .ti-password-show-icon{display:inline-block;cursor:pointer}::slotted(input){box-sizing:border-box !important;margin-bottom:0;width:100% !important;height:32px;padding:0 8px 32px 8px;border:1px solid #cccccc;color:#555555;font-family:inherit;font-size:14px}::slotted(input[disabled]){background-color:#e8e8e8;cursor:not-allowed}::slotted(input[readonly]){background-color:#e8e8e8;cursor:not-allowed}::slotted(input::-ms-reveal,input::-ms-clear){display:none !important}";let e=class{constructor(i){s(this,i);this.tiBlur=t(this,"tiBlur",7);this.tiChange=t(this,"tiChange",7);this.tiFocus=t(this,"tiFocus",7);this.componentLoaded=t(this,"componentLoaded",7);this.autocomplete="";this.capsWarning="Caps lock is ON";this.disabled=false;this.name="";this.placeholder="";this.readonly=false;this.useInForm=false;this.value="";this._onBlur=s=>{const t=s.target;if(t){const s=t.value||"";this.tiBlur.emit({value:s})}};this._onFocus=s=>{const t=s.target;if(t){const s=t.value||"";this.tiFocus.emit({value:s})}}}valueChanged(s,t){if(!this._hasSlottedInput&&this.useInForm&&document.head.attachShadow){this._hiddenInput.value=s}if(!this._hasSlottedInput&&this.useInForm&&!document.head.attachShadow&&this._passwordInput){this._passwordInput.value=s}this.tiChange.emit({value:s})}componentDidLoad(){document["msCapsLockWarningOff"]=true;if(!this._hasSlottedInput&&this.useInForm&&document.head.attachShadow){this._hiddenInput=document.createElement("input");this._hiddenInput.name=this.hostElement.getAttribute("name");this._hiddenInput.type="hidden";this._hiddenInput.value=this.value;this.hostElement.appendChild(this._hiddenInput)}this.componentLoaded.emit()}componentWillLoad(){this._hasSlottedInput=this.hostElement.hasChildNodes()&&this.hostElement.querySelector("input")!==null;if(this._hasSlottedInput){this._passwordInput=this.hostElement.querySelector("input");this._passwordInput.onblur=this._onBlur;this._passwordInput.onfocus=this._onFocus;this._passwordInput.value=this.value}}handleBlur(){this._showCapsLockWarning(false)}handleInput(){this.value=this._passwordInput.value||""}handleKeyUp(s){this._showCapsLockWarning(s.getModifierState("CapsLock"))}_onShowHide(s){s.preventDefault();this._showHideToggleSpan.classList.toggle("ti-password-showing-pw");if(this._showHideToggleSpan.classList.contains("ti-password-showing-pw")){this._passwordInput.setAttribute("type","text")}else{this._passwordInput.setAttribute("type","password")}}_showCapsLockWarning(s){if(s){this._capsLockP.style.display="block"}else{this._capsLockP.style.display="none"}}_updateSlottedInput(){this._passwordInput.name=this.name;this._passwordInput.maxLength=128;if(!this._passwordInput.hasAttribute("autocomplete")){this._passwordInput.autocomplete=this.autocomplete}this._passwordInput.disabled=this.disabled;this._passwordInput.placeholder=this.placeholder;this._passwordInput.readOnly=this.readonly}render(){if(this._hasSlottedInput){this._updateSlottedInput()}const s=!this._hasSlottedInput&&this.useInForm&&this.name?{name:this.name}:{};return i(o,{class:"ti-password",onFocus:()=>this._passwordInput.focus()},i("div",{class:"ti-password-input"},this._hasSlottedInput&&i("slot",null),!this._hasSlottedInput&&i("input",Object.assign({ref:s=>this._passwordInput=s},s,{autocomplete:this.autocomplete,disabled:this.disabled,maxlength:"128",onBlur:this._onBlur,onFocus:this._onFocus,placeholder:this.placeholder,readonly:this.readonly,type:"password",value:this.value})),i("span",{ref:s=>this._showHideToggleSpan=s,class:{"ti-password-icons":true,"ti-password-slotted":this._hasSlottedInput},onMouseDown:this._onShowHide.bind(this)},i("ti-svg-icon",{class:"ti-password-show-icon",size:"s"},"eye"),i("ti-svg-icon",{class:"ti-password-hide-icon",size:"s"},"eye-off"))),i("p",{ref:s=>this._capsLockP=s,class:"ti-password-caps-indicator"},this.capsWarning))}get hostElement(){return h(this)}static get watchers(){return{value:["valueChanged"]}}};e.style=n;export{e as ti_password};
//# sourceMappingURL=p-9dd3604b.entry.js.map
import{r as t,c as e,h as i,g as o}from"./p-ce1dc307.js";import{GcUtils as n}from"../gc-core-assets/lib/GcUtils";import{GcFiles as r}from"../gc-core-assets/lib/GcFiles";import{ActionRegistry as a}from"../gc-widget-menu/lib/ActionRegistry";import{GcWidget as s}from"../gc-widget-base/lib/GcWidget";import{W as c,D as l}from"./p-6a8f5ea3.js";import{backplaneServiceType as h,errorEventType as d}from"../gc-service-backplane/lib/BackplaneService";import{ServicesRegistry as g}from"../gc-core-services/lib/ServicesRegistry";import{UsbTransport as p,usbHidPortType as u}from"../gc-transport-usb/lib/UsbTransport";import{MAX_BAUD as v,BAUD_RATES as m}from"../gc-service-usb/lib/ServiceUsb";import{GcConsole as f}from"../gc-core-assets/lib/GcConsole";import"../gc-core-assets/lib/GcLocalStorage";import"../gc-widget-message-dialog/lib/GcMessageDialog";const b=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host{margin:0}:host gc-widget-dialog{--gc-over-flow:hidden;max-width:1024px;max-height:800px;width:650px;height:650px}:host h2{margin-bottom:5px}:host #content{height:100%;display:flex;flex-direction:column}:host #content .grid{display:grid}:host #content .grid>*{white-space:nowrap;padding:5px 10px}:host #content .grid .label{font-weight:500}:host #content #application-grid{margin-left:5px;grid-template-columns:auto 1fr}:host #content #content-detail{--gc-overflow:auto}:host #content #content-detail #software-grid{margin-left:5px;grid-template-columns:auto auto 1fr}:host #content #content-detail #software-grid .highlight{background-color:#f7f7f7}:host #content #content-detail #software-grid .label.highlight{background-color:#e5e5e5}:host #content #content-detail #additional-info-detail{margin:0 10px}:host #content #content-detail #copyright{margin:20px 0}:host a,:host a:visited{color:var(--theme-secondary-color, #118899);text-decoration:none}';a.registerAction("cmd_open_about_dialog",{run(){s.querySelector("gc-widget-about-dialog").then((t=>t.open()))},isEnabled(){return!n.isInDesigner}});let x=class{constructor(i){t(this,i);this.cssPropertyChanged=e(this,"css-property-changed",7);this.tiBranding=true;this.installedSoftware=[];this._refresh=0;this.hidden=false}render(){return i("gc-widget-dialog",{modal:true,ref:t=>this.dialog=t,heading:`About ${this.name}`},i("div",{id:"content",class:"user-select"},i("h2",null,"Application info"),i("div",{id:"application-grid",class:"grid"},i("div",{class:"label"},"Name:"),i("div",null,`${this.name}`),i("div",{class:"label"},"Version:"),i("div",null,`${this.version||""}`),i("div",{class:"label"},"Published Date:"),i("div",null,`${this.publishedDate||""}`)),i("gc-widget-container",{id:"content-detail",class:"user-select"},i("h2",null,"Installed software"),i("div",{id:"software-grid",class:"grid"},i("div",{class:"label highlight"},"Name"),i("div",{class:"label highlight"},"Version"),i("div",{class:"label highlight"},"Additional Info"),this.installedSoftware.map(((t,e)=>{const o=e%2===1?"highlight":undefined;return[i("div",{class:o},t.name),i("div",{class:o},t.version||""),i("div",{class:o},i("a",{href:t.link,target:"_blank"},t.linkText||t.link))]}))),this._appInfoText?[i("h2",null,this._appInfoTextHeading),i("div",{id:"additional-info-detail"},this._appInfoText)]:undefined,i("div",{id:"copyright"},this.copyrightText))),i("gc-widget-button",{slot:"action-bar",class:"dialog-dismiss",label:"CLOSE",onClick:()=>this.close()}))}async open(){var t,e,i;let o=[];let a=undefined;if(n.isNW){o.push({name:"NodeWebkit",version:process.versions["node-webkit"],link:"https://nwjs.io/"});o.push({name:"NodeJS",version:process.versions["node"],link:"https://nodejs.org/"});o.push({name:"Chromium",version:process.versions["chromium"],link:"https://chromestatus.com/features"});a=await r.readTextFile("version.xml").then((t=>{const e=t.indexOf("<version>");const i=t.indexOf("</version>");return e>0&&i>e?t.substring(e+9,i):undefined}))}const s=window.location.href.split("/");if(s[s.length-1]==="index.html"){s.pop()}const c=s.indexOf("@ti");if(c>0){s.splice(c+1)}else{s.push("components/@ti")}const l=s.join("/");o=[...o,...this.noDefaultLicense?[]:[{name:"GUI Composer License",linkText:"TSPA_Modified.pdf",link:`${l}/assets/TSPA_Modified.pdf`,version:a}],...this.noDefaultManifest?[]:[{name:"GUI Composer Manifest",linkText:"GUI_Composer_manifest.html",link:`${l}/assets/GUI_Composer_manifest.html`,version:a}],{name:"StencilJS",version:(await r.readJsonFile(`${l}/collection-manifest.json`)).compiler.version||"0.0.0",link:"https://stenciljs.com/"}];const h=await r.readJsonFile("project.json");const d=await(async()=>{let t=h.version||"3.0.0";if(h.version){try{t+=`_${await r.readTextFile(`${l}/../.buildtimestamp`)}`}catch(t){}}return t})();this.name=h.applicationName||"Untitled";this.version=h.applicationVersion;this.publishedDate=h.publishedDate;this.tiBranding=h.tiBrandingEnabled;const g=[...o];g.splice(g.length-1,0,{name:"GUI Composer Library",version:d,link:"https://dev.ti.com/gc/"});const p=this.appLicenseLink||((t=h.customLicense)!==null&&t!==void 0?t:undefined);if(p){g.push({name:"Application License",link:p,linkText:this.getTextFromLink(p)})}const u=this.appManifestLink||((e=h.customManifest)!==null&&e!==void 0?e:undefined);if(u){g.push({name:"Application Manifest",link:u,linkText:this.getTextFromLink(u)})}this.installedSoftware=g;this._appInfoText=this.appInfoText||(h.customAppInfo?await r.readTextFile(h.customAppInfo):undefined);this._appInfoTextHeading=this.appInfoTextHeading||"Details";await((i=this.dialog)===null||i===void 0?void 0:i.open())}async close(){var t;(t=this.dialog)===null||t===void 0?void 0:t.close()}getTextFromLink(t){return t===null||t===void 0?void 0:t.replace(/\\/g,"/").split(/\//).pop()}get copyrightText(){if(this.tiBranding){return`Copyright Â© ${(new Date).getFullYear()} Texas Instruments Incorporated. All rights reserved.`}else{return this.copyright}}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return o(this)}};x.style=b;const w=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host{margin:0}:host gc-widget-dialog{width:640px}:host gc-widget-button[button-type=link]{margin:0;height:auto}:host #description-container{margin:20px 0px}:host #steps-container .step{margin:10px 0px}:host #steps-container .step .step-label{font-weight:bold}:host #helplink-container{margin:20px 0}';let k=class{constructor(i){t(this,i);this.cssPropertyChanged=e(this,"css-property-changed",7);this._refresh=0;this.hidden=false;const o=g.getService(h);o.addEventListener(d,(t=>this.open(t.errors)))}render(){var t,e,o,n,r,a;const s=this.getSteps();return c.doRender(i("gc-widget-dialog",{ref:t=>this.dialog=t,class:"height-fit-content",heading:(t=this.cloudAgentWizard)===null||t===void 0?void 0:t.title,icon:"action:assignment_late",modal:true},i("div",{id:"description-container"},(e=this.cloudAgentWizard)===null||e===void 0?void 0:e.description,((o=this.cloudAgentWizard)===null||o===void 0?void 0:o.detailsLink)?i("gc-widget-button",{"button-type":"link",label:(n=this.cloudAgentWizard)===null||n===void 0?void 0:n.detailsLink.text,onClick:()=>{var t;return window.open((t=this.cloudAgentWizard)===null||t===void 0?void 0:t.detailsLink.url,"_default")}}):undefined),s.length<=0?undefined:i("div",{id:"steps-container"},s.map(((t,e)=>i("div",{class:"step"},i("span",{class:"step-label"},`Step ${e+1}: `),t.preActionText?t.preActionText:undefined,i("gc-widget-button",{"button-type":"link",label:t.actionText,"on-click":()=>t.handler()}),t.postActionText?t.postActionText:undefined)))),i("div",{id:"helplink-container"},((r=this.cloudAgentWizard)===null||r===void 0?void 0:r.helpLink)?i("gc-widget-button",{"button-type":"link",label:(a=this.cloudAgentWizard)===null||a===void 0?void 0:a.helpLink.text,onClick:()=>{var t;return window.open((t=this.cloudAgentWizard)===null||t===void 0?void 0:t.helpLink.url,"_default")}}):undefined),i("gc-widget-button",{slot:"action-bar","button-type":"custom",label:"CANCEL",onClick:()=>this.dialog.close()}),i("gc-widget-button",{slot:"action-bar","button-type":"custom",label:"RELOAD",onClick:()=>window.location.reload()})))}async open(t,e){var i,o;if((o=(i=window.TICloudAgent)===null||i===void 0?void 0:i.Install)===null||o===void 0?void 0:o.getInstallWizard){this.cloudAgentWizard=await window.TICloudAgent.Install.getInstallWizard({errors:t,connectionID:e});this.dialog.open()}}getSteps(){const t=[];if(this.cloudAgentWizard){this.cloudAgentWizard.steps.forEach((e=>{const i=e.action.text.split("$");if(i.length===3&&e.action.handler){t.push({preActionText:i[0]!==""?i[0]:undefined,actionText:i[1]!==""?i[1]:undefined,postActionText:i[2]!==""?i[2]:undefined,handler:e.action.handler,description:e.description})}}))}return t}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return o(this)}};k.style=w;let y=[];class z extends c{constructor(t){super(t);this.parent=t;this._isOpen=false;this.dialogSelectedEvent=()=>{if(this.topDialog!==this.parent.el&&this._isOpen){this.initTopDialog(this.parent.el)}}}doRenderContainer(t){return t}doRender(){return c.doRender(i("div",{id:"top-container",ref:t=>this.topDiv=t},i("div",{id:"dialog-div",ref:t=>this.dialogDiv=t,onMouseDown:this.dialogSelectedEvent,tabIndex:0},this.doRenderContainer(i("div",{id:"content",class:"offsetParentForDesigner",ref:t=>this.contentDiv=t},i("slot",null)))),this.parent.modal?i("div",{class:"modal-background"}):null))}doComponentDidLoad(){this.dialogDiv.style.display="flex";this.topDiv.style.display="flex";this.dialogDiv.style.display="";this.topDiv.style.display="";this.parent.el.tabIndex=-1;this.resizeEventObserver=new ResizeObserver((()=>this.parent.resize.emit()));this.resizeEventObserver.observe(this.dialogDiv);if(n.isInDesigner){this.dialogResizeObserver=new ResizeObserver((()=>{this.matchBound(this.dialogDiv.getBoundingClientRect(),this.parent.el)}));this.hostResizeObserver=new ResizeObserver((()=>{this.matchBound(this.parent.el.getBoundingClientRect(),this.dialogDiv)}));this.dialogResizeObserver.observe(this.dialogDiv);this.hostResizeObserver.observe(this.parent.el);this.hostMoveObserver=new MutationObserver((()=>{this.matchBound(this.parent.el.getBoundingClientRect(),this.dialogDiv)}));this.hostMoveObserver.observe(this.parent.el,{attributes:true,attributeFilter:["style"]});const t=()=>{if(this.contentDiv){if(this.dialogDiv.attributes["layout"]){this.contentDiv.setAttribute("layout","")}else{this.contentDiv.removeAttribute("layout")}}};this.layoutObserver=new MutationObserver(t);this.layoutObserver.observe(this.dialogDiv,{attributes:true})}}doDisconnectedCallback(){var t,e,i,o,r;if(n.isInDesigner){(t=this.dialogResizeObserver)===null||t===void 0?void 0:t.disconnect();(e=this.hostResizeObserver)===null||e===void 0?void 0:e.disconnect();(i=this.hostMoveObserver)===null||i===void 0?void 0:i.disconnect();(o=this.layoutObserver)===null||o===void 0?void 0:o.disconnect()}(r=this.resizeEventObserver)===null||r===void 0?void 0:r.disconnect()}initTopDialog(t){var e,i;y=y.filter((e=>e!==t));y.push(t);y.forEach(((t,e)=>{t.style.zIndex=`${e+l}`;t.tabIndex=e===y.length-1?0:-1}));(e=this.topDialog)===null||e===void 0?void 0:e.setAttribute("tabindex","0");(i=this.topDialog)===null||i===void 0?void 0:i.focus()}open(t=true){if(!this._isOpen){if(n.isInDesigner&&this._bound){this.dialogDiv.style.display="flex";this.matchBound(this._bound,this.parent.el)}this.parent.el.classList.add("opened");this._isOpen=true;this.initTopDialog(this.parent.el)}this.dialogDiv.focus();this.parent.openedDialog.emit();if(t){this.center()}}close(t="dismiss"){const e={closeReason:t,canClose:true};this.parent.closeDialog.emit(e);if(e.canClose){if(n.isInDesigner){const t=this.dialogDiv.getBoundingClientRect();if(t.height>0)this._bound=t}this.parent.el.tabIndex=-1;this.parent.el.classList.remove("opened");this._isOpen=false;y=y.filter((t=>t!==this.parent.el));this.parent.el.style.zIndex="";if(y.length>0){this.initTopDialog(this.topDialog)}}}center(){if(this.dialogBox){requestAnimationFrame((()=>{const t=this.dialogBox.getBoundingClientRect();const e=window.innerWidth/2;const i=window.innerHeight/2;const o=t.width/2;const n=t.height/2;this.dialogBox.style.left=`${e-o}px`;this.dialogBox.style.top=`${i-n}px`;this.matchBound(this.dialogBox.getBoundingClientRect(),this.parent.el)}))}}matchBound(t,e){e.style.width=`${t.width}px`;e.style.height=`${t.height}px`;e.style.top=`${t.top}px`;e.style.left=`${t.left}px`;e.style.position="fixed"}get topDialog(){var t;return(t=y.slice(-1)[0])!==null&&t!==void 0?t:undefined}get dialogBox(){return this.dialogDiv}}const C=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host([layout]) #dialog-div #content{display:flex;align-items:flex-start}:host([horizontal]) #dialog-div #content{flex-direction:row}:host([vertical]) #dialog-div #content{flex-direction:column}:host([horizontal][reverse]) #dialog-div #content{flex-direction:row-reverse}:host([vertical][reverse]) #dialog-div #content{flex-direction:column-reverse}:host([start-justified]) #dialog-div #content{justify-content:flex-start}:host([end-justified]) #dialog-div #content{justify-content:flex-end}:host([center-justified]) #dialog-div #content{justify-content:center}:host([around-justified]) #dialog-div #content{justify-content:space-around}:host([justified]) #dialog-div #content{justify-content:space-between}:host([start]) #dialog-div #content{align-items:flex-start}:host([end]) #dialog-div #content{align-items:flex-end}:host([center]) #dialog-div #content{align-items:center}:host([wrap]) #dialog-div #content{flex-wrap:wrap}:host([wrap-reverse]) #dialog-div #content{flex-wrap:wrap-reverse}:host([layout][horizontal][wrap]) #dialog-div #content,:host([layout][vertical][wrap]) #dialog-div #content,:host([layout][horizontal][wrap][start]) #dialog-div #content,:host([layout][vertical][wrap][start]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][start]) #dialog-div #content,:host([layout][vertical][wrap-reverse][start]) #dialog-div #content{align-content:flex-start}:host([layout][horizontal][wrap][end]) #dialog-div #content,:host([layout][vertical][wrap][end]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][end]) #dialog-div #content,:host([layout][vertical][wrap-reverse][end]) #dialog-div #content{align-content:flex-end}:host([layout][horizontal][wrap][center]) #dialog-div #content,:host([layout][vertical][wrap][center]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][center]) #dialog-div #content,:host([layout][vertical][wrap-reverse][center]) #dialog-div #content{align-content:center}:host{position:fixed;display:hidden}:host([resizable]) #dialog-div,:host([resizable=true]) #dialog-div{resize:both;overflow:hidden}:host([class*=opened]) #top-container{opacity:1;display:block;animation:fade 0.15s}:host([class*=opened]) #top-container .modal-background{pointer-events:auto;opacity:var(--gc-modal-opacity, 0.3)}:host([class*=opened]) #top-container #dialog-div{opacity:1;display:flex}:host(:not(.opened)){visibility:hidden}#top-container{opacity:0;display:none}#dialog-div{opacity:0;display:none;flex-direction:column;z-index:2;position:fixed;width:fit-content;height:fit-content;background-color:var(--gc-widget-dialog-background-color, var(--gc-background-color, var(--theme-background-color, #ffffff)));box-shadow:2px 2px 9px 0px rgba(0, 0, 0, 0.48)}#dialog-div #content{overflow:auto;flex:auto;margin:0;padding:var(--gc-widget-dialog-content-padding, 0 20px);min-height:15px;display:flex;flex-direction:column;position:relative}.modal-background{position:fixed;pointer-events:none;left:0;top:0;width:100%;height:100%;z-index:1;opacity:0;transition:opacity 0.15s;-webkit-transition:opacity 0.15s;background:var(--gc-modal-color, black)}@keyframes fade{0%{opacity:0}100%{opacity:1}}:host{margin:0;min-width:350px;min-height:220px}#header{background-color:var(--theme-primary-color, #cc0000);color:#ffffff;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;margin:0px;cursor:move;min-height:58px}#header #title-stack{display:flex;flex-direction:column;width:calc(100% - 64px)}#header #title-stack #heading,#header #title-stack #desc{margin:0;font-weight:normal;text-shadow:1px 1px rgba(0, 0, 0, 0.48)}#header #title-stack #heading{font-size:x-large;height:34px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#header gc-widget-icon{margin-left:15px}slot[name=action-bar]{padding:5px 10px 5px 10px;display:flex;justify-content:flex-end;align-items:center;min-height:48px;border-top:1px solid var(--gc-border-color, var(--theme-border-color, #e5e5e5))}::slotted(gc-widget-button){--gc-background-color:var(--gc-background-color, var(--theme-background-color, #ffffff));--gc-background-color-hover:var(--theme-primary-color-hover, #fcd3c1);--gc-border-color:transparent;--gc-border-color-hover:transparent;--gc-color:var(--theme-primary-color, #cc0000);--gc-color-hover:var(--theme-primary-color, #cc0000)}';let S=class{constructor(o){t(this,o);this.closeDialog=e(this,"dialog-close",7);this.openedDialog=e(this,"dialog-open",7);this.resize=e(this,"dialog-resize",7);this.cssPropertyChanged=e(this,"css-property-changed",7);this.moving=false;this.offset=[0,0];this.base=new class extends z{get dialog(){return this.parent}get element(){return this.dialog.el}doRenderContainer(t){const e=this.dialog;return[e.heading?i("div",{id:"header",ref:t=>e.headerDiv=t,onMouseDown:e.mouseDownEvent},i("div",{id:"title-stack"},i("h1",{id:"heading"},e.heading),e.desc?i("h4",{id:"desc"},e.desc):null),e.icon?i("gc-widget-icon",{appearance:"reversed",icon:e.icon,path:e.iconPath,size:"xl"}):null):null,t,i("slot",{name:"action-bar"})]}}(this);this.iconPath=undefined;this.closeOnEsc=true;this.dismissActionEvent=()=>{this.base.close()};this.confirmDefaultActionEvent=()=>{this.base.close("confirm")};this.mouseDownEvent=t=>{this.moving=true;const e=this.base.dialogBox.getBoundingClientRect();this.base.dialogBox.style.top=`${e.top}px`;this.offset=[this.base.dialogBox.offsetLeft-t.clientX,this.base.dialogBox.offsetTop-t.clientY]};this.mouseUpEvent=t=>{if(this.moving){t.preventDefault();this.moving=false;this.matchBound(this.base.dialogBox.getBoundingClientRect(),this.el)}};this.mouseMoveEvent=t=>{if(this.moving){t.preventDefault();const e=t.clientX+this.offset[0];const i=t.clientY+this.offset[1];this.base.dialogBox.style.left=`${e>0?e:0}px`;this.base.dialogBox.style.top=`${i>0?i:0}px`}};this.keyDownEvent=t=>{if(t.key==="Escape"&&this.base.topDialog===this.el&&this.closeOnEsc){t.preventDefault();this.close()}};this.modal=false;this.resizable=true;this._refresh=0;this.hidden=false}render(){return this.base.doRender()}componentDidRender(){this.base.dialogBox.style.minWidth=window.getComputedStyle(this.el).minWidth;this.base.dialogBox.style.maxWidth=window.getComputedStyle(this.el).maxWidth;this.base.dialogBox.style.minHeight=window.getComputedStyle(this.el).minHeight;this.base.dialogBox.style.maxHeight=window.getComputedStyle(this.el).maxHeight;this.base.dialogBox.style.width=window.getComputedStyle(this.el).width;if(this.el.classList.contains("height-fit-content")){this.base.dialogBox.style.height="fit-content"}else{this.base.dialogBox.style.height=window.getComputedStyle(this.el).height}}keepVisibleInDesignerChanged(){if(n.isInDesigner&&!this.hidden){this.keepVisibleInDesigner?this.open():this.close()}}hiddenChanged(){if(n.isInDesigner&&this.keepVisibleInDesigner){this.hidden?this.close():this.open()}else if(this.hidden){this.close()}}headingChanged(t,e){if(t&&!e){window.addEventListener("mouseup",this.mouseUpEvent);window.addEventListener("mousemove",this.mouseMoveEvent)}else if(!t&&e){window.removeEventListener("mousemove",this.mouseMoveEvent);window.removeEventListener("mouseup",this.mouseUpEvent)}}componentWillLoad(){this.dismissActionEvent=this.dismissActionEvent.bind(this);this.confirmDefaultActionEvent=this.confirmDefaultActionEvent.bind(this);const t=this.el.querySelectorAll('gc-widget-button[slot="action-bar"]');t.forEach((t=>{t.setAttribute("button-type","custom");t.style.setProperty("--gc-text-transform","uppercase")}))}componentDidLoad(){var t,e;this.base.doComponentDidLoad();this.headingChanged(this.heading);if(!n.isInDesigner){this.el.addEventListener("keydown",this.keyDownEvent);this.confirmBtns=this.el.querySelectorAll('*[class*="dialog-confirm"]');(t=this.confirmBtns)===null||t===void 0?void 0:t.forEach((t=>{t.addEventListener("click",this.confirmDefaultActionEvent)}));this.dismissBtns=this.el.querySelectorAll('*[class*="dialog-dismiss"]');(e=this.dismissBtns)===null||e===void 0?void 0:e.forEach((t=>{t.addEventListener("click",this.dismissActionEvent)}))}else if(this.keepVisibleInDesigner){this.open()}}disconnectedCallback(){this.base.doDisconnectedCallback();if(!n.isInDesigner&&this.heading){window.removeEventListener("mousemove",this.mouseMoveEvent);window.removeEventListener("mouseup",this.mouseUpEvent)}}matchBound(t,e){e.style.width=`${t.width}px`;e.style.height=`${t.height}px`;e.style.top=`${t.top}px`;e.style.left=`${t.left}px`;e.style.position="fixed"}async close(t){this["base"]["close"](t)}async open(t=true){this["base"]["open"](t)}async center(){this["base"]["center"]()}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return o(this)}static get watchers(){return{keepVisibleInDesigner:["keepVisibleInDesignerChanged"],hidden:["hiddenChanged"],heading:["headingChanged"]}}};S.style=C;const _=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host([layout]) #dialog-div #content{display:flex;align-items:flex-start}:host([horizontal]) #dialog-div #content{flex-direction:row}:host([vertical]) #dialog-div #content{flex-direction:column}:host([horizontal][reverse]) #dialog-div #content{flex-direction:row-reverse}:host([vertical][reverse]) #dialog-div #content{flex-direction:column-reverse}:host([start-justified]) #dialog-div #content{justify-content:flex-start}:host([end-justified]) #dialog-div #content{justify-content:flex-end}:host([center-justified]) #dialog-div #content{justify-content:center}:host([around-justified]) #dialog-div #content{justify-content:space-around}:host([justified]) #dialog-div #content{justify-content:space-between}:host([start]) #dialog-div #content{align-items:flex-start}:host([end]) #dialog-div #content{align-items:flex-end}:host([center]) #dialog-div #content{align-items:center}:host([wrap]) #dialog-div #content{flex-wrap:wrap}:host([wrap-reverse]) #dialog-div #content{flex-wrap:wrap-reverse}:host([layout][horizontal][wrap]) #dialog-div #content,:host([layout][vertical][wrap]) #dialog-div #content,:host([layout][horizontal][wrap][start]) #dialog-div #content,:host([layout][vertical][wrap][start]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][start]) #dialog-div #content,:host([layout][vertical][wrap-reverse][start]) #dialog-div #content{align-content:flex-start}:host([layout][horizontal][wrap][end]) #dialog-div #content,:host([layout][vertical][wrap][end]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][end]) #dialog-div #content,:host([layout][vertical][wrap-reverse][end]) #dialog-div #content{align-content:flex-end}:host([layout][horizontal][wrap][center]) #dialog-div #content,:host([layout][vertical][wrap][center]) #dialog-div #content,:host([layout][horizontal][wrap-reverse][center]) #dialog-div #content,:host([layout][vertical][wrap-reverse][center]) #dialog-div #content{align-content:center}:host{position:fixed;display:hidden}:host([resizable]) #dialog-div,:host([resizable=true]) #dialog-div{resize:both;overflow:hidden}:host([class*=opened]) #top-container{opacity:1;display:block;animation:fade 0.15s}:host([class*=opened]) #top-container .modal-background{pointer-events:auto;opacity:var(--gc-modal-opacity, 0.3)}:host([class*=opened]) #top-container #dialog-div{opacity:1;display:flex}:host(:not(.opened)){visibility:hidden}#top-container{opacity:0;display:none}#dialog-div{opacity:0;display:none;flex-direction:column;z-index:2;position:fixed;width:fit-content;height:fit-content;background-color:var(--gc-widget-dialog-background-color, var(--gc-background-color, var(--theme-background-color, #ffffff)));box-shadow:2px 2px 9px 0px rgba(0, 0, 0, 0.48)}#dialog-div #content{overflow:auto;flex:auto;margin:0;padding:var(--gc-widget-dialog-content-padding, 0 20px);min-height:15px;display:flex;flex-direction:column;position:relative}.modal-background{position:fixed;pointer-events:none;left:0;top:0;width:100%;height:100%;z-index:1;opacity:0;transition:opacity 0.15s;-webkit-transition:opacity 0.15s;background:var(--gc-modal-color, black)}@keyframes fade{0%{opacity:0}100%{opacity:1}}:host{margin:0;position:unset}:host gc-widget-dialog{width:400px;min-height:auto}#content-container{display:flex;flex-direction:column;height:100%;min-height:60px;margin:10px 0 10px 0}#content-container #content-message{display:flex;align-items:center}#content-container gc-widget-progressbar{margin:0;padding:20px 0 10px 0}';let $=class{constructor(i){t(this,i);this.cssPropertyChanged=e(this,"css-property-changed",7);this.opened=false;this.onCancelHdlr=()=>{this.close("dismiss")};this.onOKHdlr=()=>{this.close("confirm")};this.onCustomButtonHdlr=t=>{this.close(t.currentTarget.label.toLowerCase())};this._refresh=0;this.hidden=false}render(){const t=n.parseArrayProperty(this.customButtons);return c.doRender(i("gc-widget-dialog",{class:"height-fit-content",modal:true,closeOnEsc:this.hasCancel,heading:this.heading,icon:this.icon,ref:t=>this.dialog=t},i("div",{id:"content-container"},i("div",{id:"content-message",innerHTML:this.message}),i("div",{style:{flex:"1"}}),this.hasProgress?i("gc-widget-progressbar",{minValue:this.minValue,maxValue:this.maxValue,value:this.progressValue,message:this.progressMessage}):null),this.hasCancel?i("gc-widget-button",{slot:"action-bar",class:"message-cancel",label:"CANCEL",disabled:this.disableCancelButton,onClick:this.onCancelHdlr}):null,t?t.map((t=>i("gc-widget-button",{class:`message-${t.toLowerCase()}`,slot:"action-bar",label:t.toUpperCase(),disabled:this.disableCustomButtons,onClick:this.onCustomButtonHdlr}))):null,this.hasOk?i("gc-widget-button",{slot:"action-bar",class:"message-ok",label:"OK",onClick:this.onOKHdlr,disabled:this.hasProgress?this.progressValue?this.progressValue<this.maxValue:true:false}):null))}async open(){if(!this.opened){if(this.dialog){await this.dialog.open();this.opened=true}}}async close(t){if(this.opened){await this.dialog.close(t)}this.opened=false}async setProgressValue(t){if(this.opened){this.progressValue=t}}async setProgressMessage(t){if(this.opened){this.progressMessage=t}}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return o(this)}};$.style=_;const j=':host::-webkit-scrollbar,::-webkit-scrollbar{width:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px));height:var(--gc-scrollbar-width, var(--theme-scrollbar-width, 8px))}:host::-webkit-scrollbar-track,::-webkit-scrollbar-track{background:var(--gc-scrollbar-track-background-color, var(--theme-scroll-track-color, rgba(35, 31, 32, 0.2)))}:host::-webkit-scrollbar-thumb,::-webkit-scrollbar-thumb{background:var(--gc-scrollbar-thumb-background-color, var(--theme-scroll-thumb-color, rgba(35, 31, 32, 0.65)))}:host::-webkit-scrollbar-thumb:hover,::-webkit-scrollbar-thumb:hover{background:var(--gc-scrollbar-thumb-background-color-hover, var(--theme-scroll-thumb-color-hover, rgba(35, 31, 32, 0.8)))}:host::-webkit-scrollbar-corner,::-webkit-scrollbar-corner{background:rgba(0, 0, 0, 0)}:host(:focus),:host *:focus{outline:none}:host{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;font-family:var(--gc-font-family, var(--theme-font-family, "Roboto", "Open Sans", "Segoe UI", "Tahoma", "sans-serif"));font-size:var(--gc-font-size, var(--theme-font-size, 14px));font-weight:400;color:var(--gc-font-color, var(--gc-font-color, var(--theme-font-color, #555555)));margin:var(--gc-margin, var(--theme-margin, 5px));display:inline-block;box-sizing:border-box}:host .user-select{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}:host .text-link{color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-color:var(--gc-link-color, var(--gc-link-color, var(--theme-link-color, #333333)));--gc-text-decoration-hover:underline;--gc-cursor-hover:pointer}:host .text-link:not([disabled]):hover{text-decoration:underline;cursor:pointer}:host([hidden]){display:none !important}:host([readonly]) *{pointer-events:none}:host([disabled]) *{cursor:not-allowed}:host([caption]:not([caption=""])){margin-top:calc(var(--gc-margin, var(--theme-margin, 5px)) + var(--gc-caption-font-size, var(--theme-caption-font-size, 14px)) + 8px)}:host([caption]:not([caption=""])),:host([info-text]:not([info-text=""])){overflow:visible;position:relative}:host([caption=""][info-text]:not([info-text=""])),:host([info-text]:not([info-text=""]):not([caption])){margin-right:calc(var(--gc-margin, var(--theme-margin, 5px)) + 22px)}#elementWrapper{box-sizing:content-box;height:100%;width:100%;display:flex;align-items:center;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container{position:relative;display:flex;flex-direction:column;width:100%;height:100%;min-height:inherit;max-height:inherit;min-width:inherit;max-width:inherit}.root-container .header-container.top{top:var(--gc-header-container-top, calc(0px - 8px - var(--gc-caption-font-size, var(--theme-caption-font-size, 14px))));flex-direction:row}.root-container .header-container.side{right:-22px;flex-direction:column;height:inherit}.root-container .header-container{position:absolute;display:flex;align-items:center}.root-container .header-container .icon,.root-container .header-container gc-widget-icon{cursor:default;margin:auto;height:18px;width:18px;display:block;--gc-color:var(--gc-caption-info-color, var(--theme-caption-info-color, #98999b))}.root-container .header-container .caption{flex:1;cursor:default;white-space:nowrap;margin-right:2px;font-weight:var(--gc-caption-font-weight, var(--theme-caption-font-weight, 400));font-size:var(--gc-caption-font-size, var(--theme-caption-font-size, 14px));color:var(--gc-caption-font-color, var(--theme-caption-font-color, #999999))}.invisible{visibility:hidden}:host{margin:0}:host gc-widget-dialog{max-width:800px;max-height:600px;width:500px;height:320px}#busySplash{background:white;display:flex;align-content:center;justify-content:center}#busyIcon{animation-name:spin;animation-duration:5000ms;animation-iteration-count:infinite;animation-timing-function:linear}.uart-setting:not(:last-child){border-bottom:solid;border-width:thin;border-color:var(--gc-border-color, var(--theme-border-color, #e5e5e5))}.uart-setting{display:grid;grid-template:auto/70px auto;grid-auto-flow:row;grid-template-areas:"title title-name " "port port-select" "baud baud-select";padding-bottom:15px}.uart-setting .title{grid-area:title}.uart-setting .title-name{margin-left:9px;grid-area:title-name}.uart-setting .port{grid-area:port}.uart-setting .baud{grid-area:baud}.uart-setting .port-select{grid-area:port-select}.uart-setting .baud-select{grid-area:baud-select}.uart-setting p{font-weight:bold}.uart-setting gc-widget-select{width:auto}.spacer{flex:1}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}';let I=false;const R=new f("gc-widget-port-selection-dialog");let T=class{constructor(i){t(this,i);this.cssPropertyChanged=e(this,"css-property-changed",7);this.baudSelectEls=[];this.uarts=[];this.busy=false;this.acquireAllPorts=async()=>{this.changedUarts=undefined;this.busy=true;this.uarts=await p.acquireAllPorts();this.busy=false};this.applyUserPortSelections=async()=>{if(this.changedUarts){R.debug((t=>`Apply uarts: ${t.map((t=>{var e;return`${t.transport.id} ${(e=t.port)===null||e===void 0?void 0:e.descriptor.displayName} ${t.baudRate}`})).join(". ")}`),this.changedUarts);p.applyUserPortSelections(this.changedUarts,true)}else{R.debug("There is no changed uarts to apply")}};this.selectPort=t=>{var e,i,o;const n=parseInt((i=(e=t.target)===null||e===void 0?void 0:e.id)===null||i===void 0?void 0:i.replace("port_select_",""));if(n>-1){if(!this.changedUarts)this.changedUarts=this.uarts;this.changedUarts[n].port=this.changedUarts[n].availablePorts[t.detail.value];if(this.isHidPort((o=this.changedUarts[n].port)===null||o===void 0?void 0:o.type)){this.changedUarts[n].baudRate=undefined}R.debug((t=>{var e;return`Select port ${t.transport.id} ${(e=t.port)===null||e===void 0?void 0:e.descriptor.displayName}`}),this.changedUarts[n]);this.refresh()}};this.selectBaud=t=>{var e,i;const o=t.target;if(o&&!o.disabled){const r=o===null||o===void 0?void 0:o.filterText;const a=parseInt((i=(e=t.target)===null||e===void 0?void 0:e.id)===null||i===void 0?void 0:i.replace("baud_select_",""));if(r){const t=n.string2value(r.replace(" (recommended)",""));if(v>=t&&t>=0){if(!this.changedUarts)this.changedUarts=this.uarts;this.changedUarts[a].baudRate=t;R.debug((t=>`Select baud ${t.transport.id} ${t.baudRate}`),this.changedUarts[a])}}}};this._refresh=0;this.hidden=false}renderUartContent(){this.baudSelectEls=[];return this.uarts.map(((t,e)=>{var o,n,r,a,s,c,l,h,d;const g=(a=(r=(n=(o=t.transport)===null||o===void 0?void 0:o.params)===null||n===void 0?void 0:n.defaultBaudRate)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"9600";const p=m.split("|");const u=p.findIndex((e=>{var i;return e===((i=t.baudRate)===null||i===void 0?void 0:i.toString())}));const v=p.findIndex((t=>t===g));if(v>-1)p[v]=p[v]+" (recommended)";const f=u>-1&&u===v?p[u]:(s=t.baudRate)===null||s===void 0?void 0:s.toString();return i("div",{class:"uart-setting"},i("p",{class:"title"},"ID:"),i("p",{class:"title-name"},i("code",null,t.transport.id)),i("p",{class:"port"},"Port:"),i("gc-widget-select",{id:`port_select_${e}`,class:"port-select",labels:t?(l=((c=t.availablePorts)===null||c===void 0?void 0:c.map((t=>t===null||t===void 0?void 0:t.descriptor.displayName)).join("|"))+"|")!==null&&l!==void 0?l:"":"",selectedIndex:t?this.activePortIndex(t):0,"onSelected-index-changed":this.selectPort,disabled:!t}),i("p",{class:"baud"},"Baud Rate:"),i("gc-widget-select",{id:`baud_select_${e}`,ref:t=>this.baudSelectEls.push(t),class:"baud-select",type:"filter",placeholder:"Input Baud Rate",labels:p.toString(),values:m,filterText:f,pattern:"[0-9]*","onFilter-text-committed":this.selectBaud,disabled:this.isHidPort(this.changedUarts?(h=this.changedUarts[e].port)===null||h===void 0?void 0:h.type:(d=this.uarts[e].port)===null||d===void 0?void 0:d.type),autoOpen:true}))}))}render(){const t=this.uarts.reduce(((t,e)=>t||e.availablePorts.length>0),false);return c.doRender(i("gc-widget-dialog",{heading:"Serial Port Configuration",modal:true,icon:"communication:import_export",ref:t=>this.dialog=t},t?i("div",{key:"uarts"},this.renderUartContent()):i("div",{id:"busySplash",key:"no-uarts"},i("p",{key:"message"},"Nothing found. Please reconnect and press ",i("code",null,"Refresh")," to try again.")),i("div",null,i("gc-widget-icon",{hidden:!this.busy,key:"busyIcon",icon:"action:autorenew",id:"busyIcon"})),i("gc-widget-button",{slot:"action-bar",class:"refresh",icon:"navigation:refresh",label:"REFRESH",onClick:this.acquireAllPorts}),i("div",{slot:"action-bar",class:"spacer"}),i("gc-widget-button",{slot:"action-bar",class:"dialog-dismiss",label:"CANCEL"}),i("gc-widget-button",{slot:"action-bar",class:"dialog-confirm",label:"OK",onClick:this.applyUserPortSelections,disabled:!this.changedUarts})))}componentDidRender(){this.baudSelectEls.forEach((t=>t.setFilterFunction((t=>t))))}async open(){await this.acquireAllPorts();await this.dialog.open()}async close(){this.changedUarts=undefined;await this.dialog.close()}hiddenChanged(){if(this.hidden)this.close()}componentWillLoad(){if(!I){a.registerAction("cmd_open_serial_port_dialog",Object.assign({},{run:()=>document.querySelector("gc-widget-port-selection-dialog").open(),isVisible:()=>!!document.querySelector("gc-widget-port-selection-dialog")}));I=true}else{R.log("gc-widget-port-selection-dialog already has an instance in this document.")}}activePortIndex(t){const e=t===null||t===void 0?void 0:t.port;const i=t.availablePorts.findIndex((t=>t===e));return i!==null&&i!==void 0?i:0}isHidPort(t){return t===u}async setCSSProperty(t,e){e=e.trim();if(await this.getCSSProperty(t)!==e){this.el.style.setProperty(t,e);this.cssPropertyChanged.emit({name:t,value:e})}}async getCSSProperty(t){return getComputedStyle(this.el).getPropertyValue(t).trim()}async refresh(){this._refresh++}get el(){return o(this)}static get watchers(){return{hidden:["hiddenChanged"]}}};T.style=j;export{x as gc_widget_about_dialog,k as gc_widget_cloudagent_dialog,S as gc_widget_dialog,$ as gc_widget_message_dialog,T as gc_widget_port_selection_dialog};
//# sourceMappingURL=p-41e14e18.entry.js.map
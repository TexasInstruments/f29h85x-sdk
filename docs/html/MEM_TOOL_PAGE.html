<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>F29H85x-SDK: Memory Allocation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="F29H85x-SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F29H85x-SDK
   &#160;<span id="projectnumber">1.00.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('MEM_TOOL_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Memory Allocation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md835">Memory Region</a></li>
<li class="level1"><a href="#autotoc_md836">Sections</a></li>
<li class="level1"><a href="#autotoc_md837">Generated Files</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_alloc_tool_mem_tool"></a></p>
<p>Memory Allocation modules are available under the "Memory Configuration" section in Sysconfig.</p>
<p> <style>div.image img[src="mem1.png"]{width:60%}</style> </p><div class="image">
<img src="mem1.png" alt=""/>
<div class="caption">
Memory Allocation overview</div></div>
<dl class="section note"><dt>Note</dt><dd>This profile is valid only when used independent of the System Security module. When System Security is added, the memory region and section configurations are done according to the parameters defined by the SSU settings, which is part of the System Security Configuration profile.</dd></dl>
<h1><a class="anchor" id="autotoc_md835"></a>
Memory Region</h1>
<p>This module is used to create named memory ranges, which will be listed under the MEMORY directive of the linker cmd file. In the global settings, the Flash BANKMODE configuration is specified. Note that this is only used for allocation purposes and does not actually perform any BANKMODE related setup on the device. For this configuration, please use the Flash Plugin provided with CCS.</p>
<p> <style>div.image img[src="mem3.png"]{width:50%}</style> </p><div class="image">
<img src="mem3.png" alt=""/>
<div class="caption">
BANKMODE selection</div></div>
<p>For each Memory Region, user specifies:</p>
<ul>
<li>Memory Type : Whether the region is created in RAM or Flash memory</li>
<li>Size : In multiples of 4kB blocks</li>
<li>Type : Used to designate a region as "Code" (containing executable program code) or "Data" (data region for RO or RW access).</li>
<li>WS Requirement : In case of a RAM region, user can also prioritize a region to assign it a 0 wait-state (WS) region in RAM memory. This range varies for each CPU and region type - combination.</li>
<li>Share with other cores : In case of a RAM region, a memory region can be shared with other cores. A region with the same start and end addresses will be automatically created (if possible) on the selected cores</li>
</ul>
<p> <style>div.image img[src="mem2.png"]{width:60%}</style> </p><div class="image">
<img src="mem2.png" alt=""/>
<div class="caption">
Memory Region configuration parameters</div></div>
<p>Different sections of RAM and Flash have different access settings based on BANKMODE, core, wait state optimization etc. The tool will automatically allocate an optimal memory region based on user input and add it to the linker file. In case a region cannot be allocated (for instance, a 0 WS region is mandated but not available, or required memory is not available), the tool will throw an error and with the corresponding root cause.</p>
<p>The Memory Region Summary view table in Sysconfig can be used for a concise visualization of all created memory regions on each individual CPU context, as well as information regarding available unused memory.</p>
<p> <style>div.image img[src="mem4.png"]{width:50%}</style> </p><div class="image">
<img src="mem4.png" alt=""/>
<div class="caption">
Memory Region configuration parameters</div></div>
<p>In some cases, like when a region is shared to another core, the Memory Region on the shared core is created "implicitly", i.e. not available directly under the Memory Region instance list. Such regions can also be inspected by opening this summary view.</p>
<p> <style>div.image img[src="sharecpu1.png"]{width:60%}</style> </p><div class="image">
<img src="sharecpu1.png" alt=""/>
<div class="caption">
Shared Memory Region - Created on CPU1</div></div>
<p> <style>div.image img[src="sharecpu3.png"]{width:60%}</style> </p><div class="image">
<img src="sharecpu3.png" alt=""/>
<div class="caption">
Shared Memory Region - Shared with on CPU3</div></div>
<h1><a class="anchor" id="autotoc_md836"></a>
Sections</h1>
<p>This module is used for creating output sections, and the constituent input sections, which will be listed under the SECTIONS directive of the linker cmd file.</p>
<p>Currently, each output section can be assigned to exactly 1 Memory Region without splitting. It can also be assigned to be run from a different (single) Memory Region. Additional linker configurations like alignment, constant padding, and other special symbols are also available in the module.</p>
<p>Zero/more input sections can be added for each output section. For each input section, user can specify the library name, object file and the specific input section name. If any of these are left blank, all relevant matches for that field will be assigned to the section (See below image).</p>
<ul>
<li><b>codestart</b> section is automatically assigned to the first Flash (or if it doesn't exist, then RAM) code memory region found. To change this assignment, simply create an Output Section named 'codestart' and assign to the required Load Memory</li>
<li><b>cert</b> section is automatically added if any Flash Memory Regions are detected. This region is mandatory for CPU1. The CERT Flash memory region must be manually created at 0x10000000 having 4kB size (this will be the first created Flash Memory Region instance in Sysconfig)</li>
</ul>
<p> <style>div.image img[src="mem5.png"]{width:60%}</style> </p><div class="image">
<img src="mem5.png" alt=""/>
<div class="caption">
Input &amp; Output Sections</div></div>
<p>In case no input sections are added, the output section name itself is used to locate and match input sections.</p>
<h1><a class="anchor" id="autotoc_md837"></a>
Generated Files</h1>
<p> <style>div.image img[src="genfiles_linker.png"]{width:40%}</style> </p><div class="image">
<img src="genfiles_linker.png" alt=""/>
<div class="caption">
Generated Files</div></div>
<p>The tool generates the linker.cmd file based on the selected options in the GUI, which can be found in the "C29 Security" category. For user-defined Sections, entries will only show up when that specific section has a valid “Load Memory” entry selected</p>
<p> <style>div.image img[src="genfiles_linker2.png"]{width:60%}</style> </p><div class="image">
<img src="genfiles_linker2.png" alt=""/>
<div class="caption">
linker.cmd</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
